!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self).speccer={})}(this,(function(t){"use strict";const e=(t,e,o="noop")=>{t&&(!e||e&&0===e.length||e.trim().split(" ").filter((t=>t!==o)).forEach((e=>t.classList.add(e))))},o=(t,e)=>t?e||"string"==typeof t?`${t} ${e?Object.keys(e).filter((t=>e[t])).join(" "):""}`.trim():`${Object.keys(t).filter((e=>t[e])).join(" ")}`.trim():"",n=[..."ABCDEFGHIJKLMNOPQRSTUVWXYZ"],i=t=>parseInt(t,10),r=t=>i(getComputedStyle(t).getPropertyValue("--ph-speccer-pin-space"))||48,s=()=>new Promise(requestAnimationFrame),a=async(t,e)=>{!t||!e||"string"==typeof e||"number"==typeof e||"boolean"==typeof e||Array.isArray(e)&&0===e.length||0===Object.keys(e).length&&e.constructor===Object||(await s(),Array.isArray(e)?e.forEach((e=>t.style[e.key]=e.value)):Object.keys(e).forEach((o=>t.style[o]=e[o])))},p=async t=>(await s(),getComputedStyle(t,null)),c=(t,e,o)=>t-e.width/2+o.width/2,l=(t,e,o)=>t-e.height/2+o.height/2,h=async t=>{await s();const e=t.getBoundingClientRect(),o=e.top+window.pageYOffset,n=e.left+window.pageXOffset;return{height:e.height,width:e.width,top:o,left:n}},d=async(t,e)=>{await s();const o=t.getBoundingClientRect(),n=await h(e),i=await(async(t,e)=>{await s();const o=t.getBoundingClientRect(),n=e.getBoundingClientRect(),i=n.top+window.pageYOffset,r=n.left+window.pageXOffset;return{height:n.height,width:n.width,top:l(i,o,n),left:c(r,o,n)}})(t,e),r=n.height,a=n.width,p=o.height,d=o.width;return{absolute:()=>({top:n.top,left:n.left,height:r,width:a}),toTop:({center:t=!1,sourceHeight:e=p,modifier:o=0}={})=>({top:n.top+e+o,left:t?i.left:n.left,height:r,width:a}),fromTop:({center:t=!1,sourceHeight:e=p,modifier:o=0}={})=>({top:n.top-e-o,left:t?i.left:n.left,height:r,width:a}),toBottom:({center:t=!1,sourceHeight:e=p,targetHeight:o=r,modifier:s=0}={})=>({top:n.top+o-(e+s),left:t?i.left:n.left,height:r,width:a}),fromBottom:({center:t=!1,targetHeight:e=r,modifier:o=0}={})=>({top:n.top+e+o,left:t?i.left:n.left,height:r,width:a}),toLeft:({center:t=!1,sourceWidth:e=d,modifier:o=0}={})=>({top:t?i.top:n.top,left:n.left+e+o,height:r,width:a}),fromLeft:({center:t=!1,sourceWidth:e=d,modifier:o=0}={})=>({top:t?i.top:n.top,left:n.left-e-o,height:r,width:a}),toRight:({center:t=!1,sourceWidth:e=d,targetWidth:o=a,modifier:s=0}={})=>({top:t?i.top:n.top,left:n.left+o-(e+s),height:r,width:a}),fromRight:({center:t=!1,targetWidth:e=a,modifier:o=0}={})=>({top:t?i.top:n.top,left:n.left+e+o,height:r,width:a})}},f=(t="",o="span")=>{const n=document.createElement(o),i=document.createTextNode(t+"");return n.appendChild(i),n.setAttribute("title",t+"px"),e(n,"ph speccer spacing"),n},u=async t=>{if(!t)return;const o=await p(t);if("none"===o.display||"0"===o.opacity||"hidden"===o.visibility)return;const n=(t=>{const{marginTop:e,marginBottom:o,marginLeft:n,marginRight:i,paddingTop:r,paddingBottom:s,paddingLeft:a,paddingRight:p}=t;return{marginTop:e,marginBottom:o,marginLeft:n,marginRight:i,paddingTop:r,paddingBottom:s,paddingLeft:a,paddingRight:p}})(o),r=Object.keys(n).filter((t=>"0px"!==n[t]));0!==r.length&&r.forEach((async o=>{const r=i(n[o]),p=f(r),c=(t=>-1!==t.indexOf("Top")?t.replace("Top"," top"):-1!==t.indexOf("Right")?t.replace("Right"," right"):-1!==t.indexOf("Bottom")?t.replace("Bottom"," bottom"):-1!==t.indexOf("Left")?t.replace("Left"," left"):"")(o);e(p,c),document.body.appendChild(p),t.classList.add("is-specced"),await(async(t,e,o,n)=>{await s();const i=n.getBoundingClientRect(),r=await h(n);"marginTop"===t&&a(o,{height:`${e}px`,width:i.width+"px",left:r.left+"px",top:r.top-e+"px"}),"marginRight"===t&&a(o,{height:i.height+"px",width:`${e}px`,left:r.left+parseInt(i.width+"",10)+"px",top:r.top+"px"}),"marginBottom"===t&&a(o,{height:`${e}px`,width:i.width+"px",left:r.left+"px",top:r.top+parseInt(i.height+"",10)+"px"}),"marginLeft"===t&&a(o,{height:i.height+"px",width:`${e}px`,left:r.left-e+"px",top:r.top+"px"}),"paddingTop"===t&&a(o,{height:`${e}px`,width:i.width+"px",left:r.left+"px",top:r.top+"px"}),"paddingBottom"===t&&a(o,{height:`${e}px`,width:i.width+"px",left:r.left+"px",top:r.top+(parseInt(i.height+"",10)-e)+"px"}),"paddingRight"===t&&a(o,{height:i.height+"px",width:`${e}px`,left:r.left+(parseInt(i.width+"",10)-e)+"px",top:r.top+"px"}),"paddingLeft"===t&&a(o,{height:i.height+"px",width:`${e}px`,left:r.left+"px",top:r.top+"px"})})(o,r,p,t)}))};var m,g,w,y=Object.freeze({__proto__:null,create:f,element:u});!function(t){t.Empty="",t.Left="left",t.Right="right",t.Bottom="bottom",t.Top="top"}(m||(m={})),function(t){t.Outline="outline",t.Enclose="enclose",t.Full="full",t.Left="left",t.Right="right",t.Bottom="bottom",t.Top="top",t.SVG="svg",t.Curly="curly"}(g||(g={})),function(t){t.Width="width",t.Height="height",t.Left="left",t.Right="right",t.Bottom="bottom",t.Top="top"}(w||(w={}));const x=t=>t.split(" "),b=t=>x(t).includes(g.Right),E=t=>x(t).includes(g.Bottom),$=t=>x(t).includes(g.Full),v=t=>x(t).includes(g.Enclose),A=t=>t.includes(g.Curly)&&t.includes(g.Full);function S(t,e,o,n){if("a"===o&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===o?n:"a"===o?n.call(t):n?n.value:e.get(t)}function C(t,e,o,n,i){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof e?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(t,o):i?i.value=o:e.set(t,o),o}const O=()=>"_"+Math.random().toString(36).substring(2,11),B=t=>t.top,R=t=>t.left+t.width,P=t=>t.top+t.height,T=t=>t.left,L=t=>t.left+t.width/2,_=t=>t.top+t.height/2,k={center:t=>({x:L(t),y:_(t)}),top:t=>({x:L(t),y:B(t)}),right:t=>({x:R(t),y:_(t)}),bottom:t=>({x:L(t),y:P(t)}),left:t=>({x:T(t),y:_(t)}),"right-top":t=>({x:R(t),y:B(t)}),"right-bottom":t=>({x:R(t),y:P(t)}),"left-top":t=>({x:T(t),y:B(t)}),"left-bottom":t=>({x:T(t),y:P(t)}),"top-left":t=>({x:T(t),y:B(t)}),"top-right":t=>({x:R(t),y:B(t)}),"bottom-left":t=>({x:T(t),y:P(t)}),"bottom-right":t=>({x:R(t),y:P(t)}),"top-center":t=>({x:L(t),y:B(t)}),"right-center":t=>({x:R(t),y:_(t)}),"bottom-center":t=>({x:L(t),y:P(t)}),"left-center":t=>({x:T(t),y:_(t)})},M=async(t,e="center")=>{if(!e)throw new Error("No position given");if("string"!=typeof e)throw new Error("The position given is not the required type: pos: "+typeof e);const o=["center","left","right","top","bottom","right-top","right-bottom","left-top","left-bottom","top-left","top-right","bottom-left","bottom-right","top-center","right-center","bottom-center","left-center"];if(!o.includes(e))throw new Error(`The position given does not match allowed positions to use! Valid positions are: ${o.join(", ")}`);await s();const n=t.getBoundingClientRect();return k[e](n)},j=async(t,e,o="center",n="center")=>{if(!t||!e)throw new Error("No element given");const{x:i,y:r}=await M(t,o),{x:s,y:a}=await M(e,n);return{x1:i,y1:r,x2:s,y2:a}},N=(t,e)=>{const{x1:o,x2:n,y1:i,y2:r}=t,{direct:s=!1,firstSet:a=!1,direction:p}=e;let c={x:o+(n-o)/2,y:i},l={x:o+(n-o)/2,y:r};return s&&(a?"west"===p?(c={x:o-32,y:i-8},l={x:n+32,y:r}):"south"===p?(c={x:o-8,y:i+32},l={x:n,y:r-32}):"east"===p?(c={x:o+32,y:i-8},l={x:n-32,y:r}):(c={x:o-8,y:i-32},l={x:n,y:r+32}):"west"===p?(c={x:o-32,y:i+8},l={x:n+32,y:r}):"south"===p?(c={x:o+8,y:i+32},l={x:n,y:r-32}):"east"===p?(c={x:o+32,y:i+8},l={x:n-32,y:r}):(c={x:o+8,y:i-32},l={x:n,y:r+32})),{firstPoint:{x:o,y:i},firstControl:c,lastPoint:{x:n,y:r},lastControl:l}},W=async(t,e,o)=>{const{pos1:n,pos2:i,firstSet:r=!1,direction:s}=o,{x1:a,y1:p,x2:c,y2:l}=await j(t,e,n,i);let h=0,d=0;"north"==s?d=8:"west"==s?h=8:"east"==s?h=-8:"south"==s&&(d=-8);const f=N({x1:a+0,x2:c+h,y1:p+0,y2:l+d},{direct:!0,firstSet:r,direction:s}),{firstPoint:u,firstControl:m,lastControl:g,lastPoint:w}=f;return`M ${u.x} ${u.y}C ${m.x} ${m.y}, ${g.x} ${g.y}, ${w.x} ${w.y}`},z=async({start:t,stop:e,crude:o=!1})=>{const{x1:n,y1:i,x2:r,y2:s}=await j(t,e),a=((t,e,o,n,i=!0)=>{if(!(t&&e&&o&&n))throw new SyntaxError("Missing input for `angle`");if("number"!=typeof t||"number"!=typeof e||"number"!=typeof o||"number"!=typeof n)throw new TypeError(`Parameters for \`angle\` do not have the required type. Requires number! Got: ${typeof t} ${typeof e} ${typeof o} ${typeof n}`);const r=n-e,s=o-t;let a=Math.atan2(r,s);return a*=180/Math.PI,i&&a<0&&(a=360+a),a})(n,i,r,s);return o?(t=>{if(t>360)throw new RangeError("Parameter cannot exceed 360");if(t<0)throw new RangeError("Parameter cannot be lower than 0");return t>=45&&t<=135?"south":t>135&&t<=225?"west":t>225&&t<=315?"north":"east"})(a):(t=>{if(t>360)throw new RangeError("Parameter cannot exceed 360");if(t<0)throw new RangeError("Parameter cannot be lower than 0");return t>=0&&t<=22.5?"east":t>=22.5&&t<=67.5?"south-east":t>=67.5&&t<=112.5?"south":t>=112.5&&t<=157.5?"south-west":t>=157.5&&t<=202.5?"west":t>=202.5&&t<=247.5?"north-west":t>=247.5&&t<=292.5?"north":t>=292.5&&t<=337.5?"north-east":"east"})(a)};var I,q,H,V,F,D,G,X,Y;class J{constructor(t,e){I.add(this),q.set(this,void 0),H.set(this,void 0),S(this,I,"m",V).call(this,t,e)}connect(){this.draw(S(this,H,"f"))}async draw(t){if(!t)throw new Error("No path given to draw!");const e=`ph_draw_path-path-${O()}`,o=t.cloneNode(!1);if(o.setAttribute("id",e),o.setAttribute("data-start-el",this.startElement.getAttribute("id")||"no-id-found"),o.classList.remove("original"),o.classList.add("speccer"),!t.parentNode)throw new Error("No parentNode found for path");this.line=t.parentNode.insertBefore(o,t.nextSibling);const n=await z({start:this.startElement,stop:this.stopElement,crude:!0}),{pos1:i,pos2:r}=(t=>{let e,o;switch(t){case"east":e="right",o="left";break;case"south":e="bottom",o="top";break;case"west":e="left",o="right";break;default:e="top",o="bottom"}return{pos1:e,pos2:o}})(n),s=await(async(t,e,o)=>{const{pos1:n,pos2:i}=o,{x1:r,y1:s,x2:a,y2:p}=await j(t,e,n,i),c=N({x1:r,x2:a,y1:s,y2:p},{direction:""}),{firstPoint:l,firstControl:h,lastControl:d,lastPoint:f}=c;return`M ${l.x} ${l.y}C ${h.x} ${h.y}, ${d.x} ${d.y}, ${f.x} ${f.y}`})(this.startElement,this.stopElement,{pos1:i,pos2:r});this.line.setAttribute("data-direction",n),this.line.setAttribute("data-pos1",i),this.line.setAttribute("data-pos2",r),this.line.setAttribute("d",s)}}q=new WeakMap,H=new WeakMap,I=new WeakSet,V=function(t,e){if(!t||!e)throw new Error("Missing inputs startElement and stopElement");if(!document.body.contains(e))throw new Error("stopElement is not in the DOM");if(!document.body.contains(t))throw new Error("startElement is not in the DOM");if(this.startElement=t,this.stopElement=e,C(this,q,document.getElementById("ph-speccer-svg"),"f"),C(this,H,document.getElementById("ph-speccer-path"),"f"),!S(this,H,"f")||!S(this,q,"f"))throw new Error("Missing required SVG element to draw lines. Please see the documentation");this.connect()},window.DrawSVGLine=J;class K{constructor(t,e){F.add(this),D.set(this,void 0),G.set(this,void 0),S(this,F,"m",X).call(this,t,e)}connect(){this.draw(S(this,G,"f"))}async draw(t){if(!t)throw new Error("No path given to draw!");const e=S(this,F,"m",Y).call(this,t),o=S(this,F,"m",Y).call(this,t);if(!t.parentNode)throw new Error("No parentNode found for path");this.firstPathElement=t.parentNode.insertBefore(e,t.nextSibling),this.secondPathElement=t.parentNode.insertBefore(o,t.nextSibling);const n=await z({stop:this.stopElement,start:this.startElement,crude:!0}),{path1pos1:i,path1pos2:r,path2pos1:s,path2pos2:a}=(t=>{let e,o,n,i;switch(t){case"east":e="right-top",o="left-center",n="right-bottom",i="left-center";break;case"south":e="bottom-left",o="top-center",n="bottom-right",i="top-center";break;case"west":e="left-top",o="right-center",n="left-bottom",i="right-center";break;default:e="top-left",o="bottom-center",n="top-right",i="bottom-center"}return{path1pos1:e,path1pos2:o,path2pos1:n,path2pos2:i}})(n),p=await W(this.startElement,this.stopElement,{pos1:i,pos2:r,firstSet:!0,direction:n}),c=await W(this.startElement,this.stopElement,{pos1:s,pos2:a,direction:n});this.firstPathElement.setAttribute("data-direction",n),this.firstPathElement.setAttribute("data-pos1",i),this.firstPathElement.setAttribute("data-pos2",r),this.firstPathElement.setAttribute("d",p),this.secondPathElement.setAttribute("data-direction",n),this.secondPathElement.setAttribute("data-pos1",s),this.secondPathElement.setAttribute("data-pos2",a),this.secondPathElement.setAttribute("d",c)}}D=new WeakMap,G=new WeakMap,F=new WeakSet,X=function(t,e){if(!t||!e)throw new Error("Missing inputs startElement and stopElement");if(!document.body.contains(e))throw new Error("stopElement is not in the DOM");if(!document.body.contains(t))throw new Error("startElement is not in the DOM");if(this.startElement=t,this.stopElement=e,C(this,D,document.getElementById("ph-speccer-svg"),"f"),C(this,G,document.getElementById("ph-speccer-path"),"f"),!S(this,G,"f")||!S(this,D,"f"))throw new Error("Missing required SVG element to draw lines. Please see the documentation");this.connect()},Y=function(t){if(!t)throw new Error("No path given to #getPathElement!");const e=`ph_draw_path-path-${O()}`,o=t.cloneNode(!1);return o.setAttribute("data-start-el",this.startElement.getAttribute("id")||"no-id-found"),o.setAttribute("id",e),o.classList.remove("original"),o.classList.add("speccer"),o},window.DrawSVGCurlyBracket=K;const Q=async(t,e,o,n)=>{const{isCurly:s=!1}=n||{},a=r(o),p=i(getComputedStyle(o).getPropertyValue("--ph-speccer-measure-size"))||8;const c=await d(o,e);if(v(t)){const{left:t,top:e,height:o,width:n}=c.absolute();return{left:`${t}px`,top:`${e}px`,height:`${o}px`,width:`${n}px`}}if(x(t).includes(g.Left)){if($(t)&&!s){const{left:t,top:e,height:o}=c.fromLeft({sourceWidth:p});return{left:`${t}px`,top:`${e}px`,height:`${o}px`}}{const{left:t,top:e}=c.fromLeft({center:!0,modifier:s?a/1.5:a});return{left:`${t}px`,top:`${e}px`}}}if(b(t)){if($(t)&&!s){const{left:t,top:e,height:o}=c.fromRight({center:!1});return{left:`${t}px`,top:`${e}px`,height:`${o}px`}}{const{left:t,top:e}=c.fromRight({center:!0,modifier:s?a/1.5:a});return{left:`${t}px`,top:`${e}px`}}}if(E(t)){if($(t)&&!s){const{left:t,top:e,width:o}=c.fromBottom({center:!1});return{left:`${t}px`,top:`${e}px`,width:`${o}px`}}{const{left:t,top:e}=c.fromBottom({center:!0,modifier:s?a/1.5:a});return{left:`${t}px`,top:`${e}px`}}}if($(t)&&!s){const{left:t,top:e,width:o}=c.fromTop({center:!1});return{left:`${t}px`,top:`${e}px`,width:`${o}px`}}{const{left:t,top:e}=c.fromTop({center:!0,modifier:s?a/1.5:a});return{left:`${t}px`,top:`${e}px`}}},U=(t="",n,i="span")=>{const r=document.createElement(i),s=document.createTextNode(t),a={};null!==n&&""!==n&&(a[n]=!0),!$(n)&&!v(n)||$(n)&&A(n)?r.appendChild(s):($(n)||v(n))&&r.setAttribute("data-dissection-counter",t);const p=o("ph speccer dissection",a);return e(r,p),r},Z=t=>{if(!t)return;const e=t.querySelectorAll("[data-anatomy]");if(e){let t=0;e.forEach((async(e,o)=>{if(!e)return Promise.resolve();const i=e.getAttribute("data-anatomy")||"";if(!i||""===i||-1===i.indexOf(g.Outline))return;let r=n[o];r||(r=`${n[t]}${n[t].toLowerCase()}`,t++);const s=U(r,i);document.body.appendChild(s);const p=await Q(i,e,s,{isCurly:A(i)});var c;await a(s,p),(c=i).includes(g.SVG)||c.includes(g.Curly)||c.includes(g.Full)||c.includes(g.Enclose)?new J(e,s):A(i)&&new K(e,s)}))}};const tt=(t="",o="",n="span")=>{const i=document.createElement(n);return i.setAttribute("title",t+"px"),i.setAttribute("data-measure",parseInt(t+"",10)+"px"),e(i,`ph speccer measure ${o}`),i},et=async t=>{if(!t)return;const e=t.getAttribute("data-speccer-measure");if(""===e||!e)return;const o=await p(t);if("none"===o.display||"0"===o.opacity||"hidden"===o.visibility)return;await s();const n=t.getBoundingClientRect();if(x(e).includes(w.Width))if(E(e)){const o=tt(n.width,e);document.body.appendChild(o);const i=await d(o,t),{left:r,top:s,width:p}=i.fromBottom({center:!1});await a(o,{left:`${r}px`,top:`${s}px`,width:`${p}px`})}else{const o=tt(n.width,e);document.body.appendChild(o);const i=await d(o,t),{left:r,top:s,width:p}=i.fromTop({center:!1,modifier:-8});await a(o,{left:`${r}px`,top:`${s}px`,width:`${p}px`})}else if((t=>x(t).includes(w.Height))(e))if(b(e)){const o=tt(n.height,e);document.body.appendChild(o);const i=await d(o,t),{left:r,top:s,height:p}=i.fromRight({center:!1});await a(o,{left:`${r}px`,top:`${s}px`,height:`${p}px`})}else{const o=tt(n.height,e);document.body.appendChild(o);const i=await d(o,t),{left:r,top:s,height:p}=i.fromLeft({center:!1,modifier:-8});await a(o,{left:`${r}px`,top:`${s}px`,height:`${p}px`})}};const ot=(t="span")=>{const n=document.createElement(t),i=o("ph speccer mark");return e(n,i),n};const nt=(t,e=3)=>parseFloat(t+"").toFixed(e),it=(t,n)=>{const i=document.createElement("div"),r={};null!==n&&""!==n&&(r[n]=!0);const s=o("ph speccer typography",r);return i.innerHTML=t,e(i,s),i};const rt=t=>{const e=()=>((t,e,o=!1)=>{let n;return function(i,...r){const s=o&&!n;n&&clearTimeout(n),n=setTimeout((function(){n=null,o||t.apply(i,r)}),e),s&&t.apply(i,r)}})((()=>{t()}),300);window.removeEventListener("resize",e),window.addEventListener("resize",e)},st=t=>{"loading"===document.readyState?document.addEventListener("DOMContentLoaded",(()=>{t()})):t()},at=()=>{const t=new IntersectionObserver(((t,e)=>{t.forEach((t=>{t.intersectionRatio>0&&(u(t.target),e.unobserve(t.target))}))}));document.querySelectorAll("[data-speccer],[data-speccer] *:not(td):not(tr):not(th):not(tfoot):not(thead):not(tbody)").forEach((e=>{t.observe(e)}));const e=new IntersectionObserver(((t,e)=>{t.forEach((t=>{t.intersectionRatio>0&&(et(t.target),e.unobserve(t.target))}))}));document.querySelectorAll("[data-speccer-measure]").forEach((t=>{e.observe(t)}));const o=new IntersectionObserver(((t,e)=>{t.forEach((t=>{t.intersectionRatio>0&&(Z(t.target),e.unobserve(t.target))}))}));document.querySelectorAll("[data-anatomy-section]").forEach((t=>{o.observe(t)}))},pt=t=>{window.speccer=t},ct=t=>{const e=document.currentScript;if(e){const o=e.getAttribute("src");!o||-1===o.indexOf("speccer.js")&&-1===o.indexOf("JaXpOK.js")||(e.hasAttribute("data-manual")?pt(t):e.hasAttribute("data-instant")?t():e.hasAttribute("data-dom")?st(t):e.hasAttribute("data-lazy")?at():st(t),e.hasAttribute("data-manual")||e.hasAttribute("data-lazy")||rt(t))}};const lt=y,ht=Object.freeze({__proto__:null,create:U,element:Z}),dt=Object.freeze({__proto__:null,element:et}),ft=Object.freeze({__proto__:null,create:ot,element:async t=>{if(!t)return Promise.resolve();const e=ot();document.body.appendChild(e);const o=await d(e,t),{left:n,top:i,height:r,width:s}=o.absolute(),p={left:`${n}px`,top:`${i}px`,height:`${r}px`,width:`${s}px`};await a(e,p)}}),ut=Object.freeze({__proto__:null,create:it,element:async t=>{if(!t)return;const e=t.getAttribute("data-speccer-typography"),o=await p(t);if("none"===o.display||"0"===o.opacity||"hidden"===o.visibility)return;t.classList.add("is-specced");const n=await(async t=>{const e=(t=>{const{lineHeight:e,letterSpacing:o,fontFamily:n,fontSize:i,fontStyle:r,fontVariationSettings:s,fontWeight:a}=t;return{lineHeight:e,letterSpacing:o,fontFamily:n,fontSize:i,fontStyle:r,fontVariationSettings:s,fontWeight:a}})(await p(t)),o="normal"!==e.lineHeight?parseInt(e.lineHeight,10)/16+"rem":"normal";return`\nfont-styles: {<ul class="speccer-styles">  <li><span class="property">font-family:</span> ${e.fontFamily};</li>  <li><span class="property">font-size:</span> ${e.fontSize} / ${parseInt(e.fontSize,10)/16}rem;</li>  <li><span class="property">font-weight:</span> ${e.fontWeight};</li>  <li><span class="property">font-variation-settings:</span> ${e.fontVariationSettings};</li>  <li><span class="property">line-height:</span> ${e.lineHeight} / ${o};</li>  <li><span class="property">letter-spacing:</span> ${e.letterSpacing};</li>  <li><span class="property">font-style:</span> ${e.fontStyle};</li></ul>}`})(t),i=it(n,e);document.body.appendChild(i);const s=await(async(t,e,o)=>{const n=e.getBoundingClientRect(),i=r(o),s=o.getBoundingClientRect(),a=await h(e),p=a.left-s.width-i+"px",d=nt(l(a.top,s,n))+"px",f=a.left+n.width+i+"px",u=nt(l(a.top,s,n))+"px",g=nt(c(a.left,s,n))+"px",w=a.top-s.height-i+"px",y=nt(c(a.left,s,n))+"px",x=a.top+n.height+i+"px";let b={left:p,top:d};return t&&-1!==t.indexOf(m.Right)?b={left:f,top:u}:t&&-1!==t.indexOf(m.Top)?b={left:g,top:w}:t&&-1!==t.indexOf(m.Bottom)&&(b={left:y,top:x}),b})(e,t,i);a(i,s)}}),mt=Object.freeze({__proto__:null,dom:st,lazy:at,manual:pt,activate:ct}),gt=()=>{((t,e=document)=>{[].forEach.call(e.querySelectorAll(t),(function(t){t.remove()}))})(".speccer");const t=document.querySelectorAll("[data-speccer],[data-speccer] *:not(td):not(tr):not(th):not(tfoot):not(thead):not(tbody)"),e=document.querySelectorAll("[data-speccer-measure]"),o=document.querySelectorAll("[data-speccer-typography]"),n=document.querySelectorAll("[data-anatomy-section]");document.querySelectorAll("[data-speccer-mark]").forEach(ft.element),t.forEach(lt.element),e.forEach(dt.element),o.forEach(ut.element),n.forEach(ht.element)};ct(gt),t.default=gt,t.dissect=ht,t.mark=ft,t.measure=dt,t.modes=mt,t.spacing=lt,t.typography=ut,Object.defineProperty(t,"__esModule",{value:!0})}));
//# sourceMappingURL=speccer.js.map
