{"version":3,"file":"speccer.js","sources":["src/lib/node.ts","src/lib/classnames.ts","src/lib/constants.ts","src/lib/css.ts","src/lib/wait.ts","src/lib/styles.ts","src/lib/position.ts","src/tasks/spec.ts","src/helpers/spacing/position.ts","node_modules/tslib/tslib.es6.js","src/lib/id.ts","src/lib/cardinal.ts","src/lib/bezier.ts","src/enums/area.ts","src/lib/classes/DrawSVGLine.ts","src/lib/classes/DrawSVGCurlyBracket.ts","src/lib/area.ts","src/helpers/dissect/styles.ts","src/tasks/dissect.ts","src/tasks/measure.ts","src/tasks/mark.ts","src/lib/number.ts","src/tasks/typography.ts","src/lib/debounce.ts","src/lib/resize.ts","src/browser.ts","src/index.ts","src/helpers/typography/template.ts","src/helpers/typography/position.ts"],"sourcesContent":["export const after = (el: HTMLElement | null, newSibling: HTMLElement) =>\n  el && el.insertAdjacentElement('afterend', newSibling);\n\nexport const removeAll = (selector: string, el: Document = document) => {\n  [].forEach.call(el.querySelectorAll(selector), function (e: HTMLElement) {\n    e.remove();\n  });\n};\n","/* eslint no-console:0 */\n'use strict';\n\nimport { ClassNamesObjectMapInterface } from 'interfaces/classnames';\n\nexport const set = (el: HTMLElement, cls: string, avoid = 'noop') => {\n  if (!el) return;\n\n  if (!cls || (cls && cls.length === 0)) return;\n\n  cls\n    .trim()\n    .split(' ')\n    .filter((cl) => cl !== avoid)\n    .forEach((cl) => el.classList.add(cl));\n};\n\nexport const toggle = (el: HTMLElement, cls: string, avoid = 'noop') => {\n  if (!el) return;\n\n  if (!cls || (cls && cls.length === 0)) return;\n\n  cls\n    .trim()\n    .split(' ')\n    .filter((cl) => cl !== avoid)\n    .forEach((cl) => el.classList.toggle(cl));\n};\n\nexport const remove = (el: HTMLElement, cls: string, avoid = 'noop') => {\n  if (!el) return;\n\n  if (!cls || (cls && cls.length === 0)) return;\n\n  cls\n    .trim()\n    .split(' ')\n    .filter((cl) => cl !== avoid)\n    .forEach((cl) => el.classList.remove(cl));\n};\n\nexport const cx = (\n  cls: string,\n  cls_obj?: ClassNamesObjectMapInterface\n): string => {\n  if (!cls) return '';\n\n  if (!cls_obj && typeof cls !== 'string') {\n    return `${Object.keys(cls)\n      .filter((classname) => cls[classname])\n      .join(' ')}`.trim();\n  }\n\n  return `${cls} ${\n    cls_obj\n      ? Object.keys(cls_obj)\n        .filter((classname) => cls_obj[classname])\n        .join(' ')\n      : ''\n  }`.trim();\n};\n","/* eslint no-console:0 */\n'use strict';\n\nexport const SPECCER_LITERALS = [...'ABCDEFGHIJKLMNOPQRSTUVWXYZ'];\n\nexport const SPECCER_TAGS_TO_AVOID = [\n  'TR',\n  'TH',\n  'TD',\n  'TBODY',\n  'THEAD',\n  'TFOOT'\n];\n\nexport const SPECCER_DEFAULT_PIN_SPACE = 48;\n\nexport const SPECCER_DEFAULT_PIN_SPACE_NEG = SPECCER_DEFAULT_PIN_SPACE * -1;\n\nexport const SPECCER_DEFAULT_MEASURE_SIZE = 8;\n\nexport const SPECCER_DEFAULT_MEASURE_SIZE_NEG =\n  SPECCER_DEFAULT_MEASURE_SIZE * -1;\n\nexport const SPECCER_DEFAULT_LINE_WIDTH = 1;\n","/* eslint no-console:0 */\n'use strict';\nimport {\n  SPECCER_DEFAULT_PIN_SPACE,\n  SPECCER_DEFAULT_MEASURE_SIZE,\n  SPECCER_DEFAULT_LINE_WIDTH\n} from './constants';\nimport {\n  SpacingCSSPropertiesType,\n  TypographyCSSPropertiesType\n} from '../types/css';\n\nexport const getNumberValue = (value: string): number => parseInt(value, 10);\n\nexport const normalizeNumberValue = (value: string | number): number => {\n  const _value = parseFloat(value + '');\n\n  return (_value >= 0 && _value < 1) || (_value <= 0 && _value > -1)\n    ? 0\n    : _value;\n};\n\nexport const getClassNameFromCSSProperty = (property: string) => {\n  if (property.indexOf('Top') !== -1) {\n    return property.replace('Top', ' top');\n  } else if (property.indexOf('Right') !== -1) {\n    return property.replace('Right', ' right');\n  } else if (property.indexOf('Bottom') !== -1) {\n    return property.replace('Bottom', ' bottom');\n  } else if (property.indexOf('Left') !== -1) {\n    return property.replace('Left', ' left');\n  }\n\n  return '';\n};\n\nexport const getSpacing = (\n  style: SpacingCSSPropertiesType\n): SpacingCSSPropertiesType => {\n  const {\n    marginTop,\n    marginBottom,\n    marginLeft,\n    marginRight,\n    paddingTop,\n    paddingBottom,\n    paddingLeft,\n    paddingRight\n  } = style;\n\n  return {\n    marginTop,\n    marginBottom,\n    marginLeft,\n    marginRight,\n    paddingTop,\n    paddingBottom,\n    paddingLeft,\n    paddingRight\n  };\n};\n\nexport const getTypography = (\n  style: TypographyCSSPropertiesType\n): TypographyCSSPropertiesType => {\n  const {\n    lineHeight,\n    letterSpacing,\n    fontFamily,\n    fontSize,\n    fontStyle,\n    fontVariationSettings,\n    fontWeight\n  } = style;\n\n  return {\n    lineHeight,\n    letterSpacing,\n    fontFamily,\n    fontSize,\n    fontStyle,\n    fontVariationSettings,\n    fontWeight\n  };\n};\n\nexport const pinSpace = (el: HTMLElement): number =>\n  getNumberValue(\n    getComputedStyle(el).getPropertyValue('--ph-speccer-pin-space')\n  ) || SPECCER_DEFAULT_PIN_SPACE;\n\nexport const measureSize = (el: HTMLElement): number =>\n  getNumberValue(\n    getComputedStyle(el).getPropertyValue('--ph-speccer-measure-size')\n  ) || SPECCER_DEFAULT_MEASURE_SIZE;\n\nexport const lineWidth = (el: HTMLElement): number =>\n  getNumberValue(\n    getComputedStyle(el).getPropertyValue('--ph-speccer-line-width')\n  ) || SPECCER_DEFAULT_LINE_WIDTH;\n","export const waitFor = (ms: number) =>\n  new Promise((resolve) => setTimeout(resolve, ms));\n\nexport const waitForFrame = () => new Promise(requestAnimationFrame);\n","/* eslint no-console:0 */\n'use strict';\nimport { waitForFrame } from './wait';\n\nexport const add = async (el: HTMLElement, styles: [] | object) => {\n  if (\n    !el ||\n    !styles ||\n    typeof styles === 'string' ||\n    typeof styles === 'number' ||\n    typeof styles === 'boolean' ||\n    (Array.isArray(styles) && styles.length === 0) ||\n    (Object.keys(styles).length === 0 && styles.constructor === Object)\n  ) {\n    return;\n  }\n\n  await waitForFrame();\n\n  if (Array.isArray(styles)) {\n    styles.forEach(\n      (style: { key: string; value: string }) =>\n        (el.style[style.key] = style.value)\n    );\n  } else {\n    Object.keys(styles).forEach((key) => (el.style[key] = styles[key]));\n  }\n};\n\nexport const get = async (el: HTMLElement): Promise<CSSStyleDeclaration> => {\n  await waitForFrame();\n\n  return getComputedStyle(el, null);\n};\n","import { waitForFrame } from './wait';\n\nimport { PositionPropertiesType, PositionInputType } from '../types/position';\nimport { GetRecPropertiesInterface } from 'interfaces/position';\n\nexport const get_horizontal_center_of_els = (\n  modifier: number,\n  startRect: DOMRect,\n  targetRect: DOMRect\n): number => modifier - startRect.width / 2 + targetRect.width / 2;\n\nexport const get_vertical_center_of_els = (\n  modifier: number,\n  startRect: DOMRect,\n  targetRect: DOMRect\n): number => modifier - startRect.height / 2 + targetRect.height / 2;\n\nexport const offset = async (\n  targetEl: HTMLElement\n): Promise<PositionPropertiesType> => {\n  await waitForFrame();\n\n  const _target_rect = targetEl.getBoundingClientRect();\n  const _el_offset_top = _target_rect.top + window.pageYOffset;\n  const _el_offset_left = _target_rect.left + window.pageXOffset;\n\n  return {\n    height: _target_rect.height,\n    width: _target_rect.width,\n    top: _el_offset_top,\n    left: _el_offset_left\n  };\n};\n\nexport const offsetWithCenter = async (\n  sourceEl: HTMLElement,\n  targetEl: HTMLElement\n): Promise<PositionPropertiesType> => {\n  await waitForFrame();\n\n  const _source_rect = sourceEl.getBoundingClientRect();\n  const _target_rect = targetEl.getBoundingClientRect();\n  const _el_offset_top = _target_rect.top + window.pageYOffset;\n  const _el_offset_left = _target_rect.left + window.pageXOffset;\n\n  return {\n    height: _target_rect.height,\n    width: _target_rect.width,\n    top: get_vertical_center_of_els(_el_offset_top, _source_rect, _target_rect),\n    left: get_horizontal_center_of_els(\n      _el_offset_left,\n      _source_rect,\n      _target_rect\n    )\n  };\n};\n\nexport const getRec = async (\n  sourceEl: HTMLElement,\n  targetEl: HTMLElement\n): Promise<GetRecPropertiesInterface> => {\n  await waitForFrame();\n\n  const _source_rect = sourceEl.getBoundingClientRect();\n  const _target_offset = await offset(targetEl);\n  const _target_offset_center = await offsetWithCenter(sourceEl, targetEl);\n  const _target_height = _target_offset.height;\n  const _target_width = _target_offset.width;\n  const _source_height = _source_rect.height;\n  const _source_width = _source_rect.width;\n\n  return {\n    absolute: (): PositionPropertiesType => {\n      return {\n        top: _target_offset.top,\n        left: _target_offset.left,\n        height: _target_height,\n        width: _target_width\n      };\n    },\n    toTop: ({\n      center = false,\n      sourceHeight = _source_height,\n      modifier = 0\n    }: PositionInputType = {}): PositionPropertiesType => {\n      return {\n        top: _target_offset.top + sourceHeight + modifier,\n        left: center ? _target_offset_center.left : _target_offset.left,\n        height: _target_height,\n        width: _target_width\n      };\n    },\n\n    fromTop: ({\n      center = false,\n      sourceHeight = _source_height,\n      modifier = 0\n    }: PositionInputType = {}): PositionPropertiesType => {\n      return {\n        top: _target_offset.top - sourceHeight - modifier,\n        left: center ? _target_offset_center.left : _target_offset.left,\n        height: _target_height,\n        width: _target_width\n      };\n    },\n\n    toBottom: ({\n      center = false,\n      sourceHeight = _source_height,\n      targetHeight = _target_height,\n      modifier = 0\n    }: PositionInputType = {}): PositionPropertiesType => {\n      return {\n        top: _target_offset.top + targetHeight - (sourceHeight + modifier),\n        left: center ? _target_offset_center.left : _target_offset.left,\n        height: _target_height,\n        width: _target_width\n      };\n    },\n    fromBottom: ({\n      center = false,\n      targetHeight = _target_height,\n      modifier = 0\n    }: PositionInputType = {}): PositionPropertiesType => {\n      return {\n        top: _target_offset.top + targetHeight + modifier,\n        left: center ? _target_offset_center.left : _target_offset.left,\n        height: _target_height,\n        width: _target_width\n      };\n    },\n\n    toLeft: ({\n      center = false,\n      sourceWidth = _source_width,\n      modifier = 0\n    }: PositionInputType = {}): PositionPropertiesType => {\n      return {\n        top: center ? _target_offset_center.top : _target_offset.top,\n        left: _target_offset.left + sourceWidth + modifier,\n        height: _target_height,\n        width: _target_width\n      };\n    },\n\n    fromLeft: ({\n      center = false,\n      sourceWidth = _source_width,\n      modifier = 0\n    }: PositionInputType = {}): PositionPropertiesType => {\n      return {\n        top: center ? _target_offset_center.top : _target_offset.top,\n        left: _target_offset.left - sourceWidth - modifier,\n        height: _target_height,\n        width: _target_width\n      };\n    },\n\n    toRight: ({\n      center = false,\n      sourceWidth = _source_width,\n      targetWidth = _target_width,\n      modifier = 0\n    }: PositionInputType = {}): PositionPropertiesType => {\n      return {\n        top: center ? _target_offset_center.top : _target_offset.top,\n        left: _target_offset.left + targetWidth - (sourceWidth + modifier),\n        height: _target_height,\n        width: _target_width\n      };\n    },\n\n    fromRight: ({\n      center = false,\n      targetWidth = _target_width,\n      modifier = 0\n    }: PositionInputType = {}): PositionPropertiesType => {\n      return {\n        top: center ? _target_offset_center.top : _target_offset.top,\n        left: _target_offset.left + targetWidth + modifier,\n        height: _target_height,\n        width: _target_width\n      };\n    }\n  };\n};\n","/* eslint no-console:0 */\n'use strict';\n\nimport * as classnames from '../lib/classnames';\nimport * as css from '../lib/css';\nimport * as styles from '../lib/styles';\nimport * as helpers from '../helpers/spacing';\n\nexport const create = (text: string | number = '', tag = 'span') => {\n  const _el = document.createElement(tag);\n  const _text_content = document.createTextNode(text + '');\n\n  _el.appendChild(_text_content);\n  _el.setAttribute('title', text + 'px');\n  classnames.set(_el, 'ph speccer spacing');\n\n  return _el;\n};\n\nexport const element = async (targetEl: HTMLElement) => {\n  if (!targetEl) return;\n\n  const _target_styles = await styles.get(targetEl);\n\n  if (\n    _target_styles.display === 'none' ||\n    _target_styles.opacity === '0' ||\n    _target_styles.visibility === 'hidden'\n  ) {\n    return;\n  }\n\n  const _target_spacing_styles = css.getSpacing(_target_styles);\n  const _target_pruned_spacing_styles = Object.keys(\n    _target_spacing_styles\n  ).filter((property) => {\n    const _value = _target_spacing_styles[property];\n\n    return _value !== '0px';\n  });\n\n  if (_target_pruned_spacing_styles.length === 0) return;\n\n  _target_pruned_spacing_styles.forEach(async (property) => {\n    const _value = css.getNumberValue(_target_spacing_styles[property]);\n    const _speccer_el = create(_value);\n    const _class_name = css.getClassNameFromCSSProperty(property);\n\n    classnames.set(_speccer_el, _class_name);\n    document.body.appendChild(_speccer_el);\n\n    targetEl.classList.add('is-specced');\n    await helpers.position(property, _value, _speccer_el, targetEl);\n  });\n};\n","import * as styles from '../../lib/styles';\nimport { offset } from '../../lib/position';\nimport { waitForFrame } from '../../lib/wait';\n\nexport const position = async (\n  property: string,\n  value: number,\n  spacingEl: HTMLElement,\n  targetEl: HTMLElement\n) => {\n  await waitForFrame();\n\n  const _target_rect = targetEl.getBoundingClientRect();\n  const _target_offset = await offset(targetEl);\n\n  if (property === 'marginTop') {\n    styles.add(spacingEl, {\n      height: `${value}px`,\n      width: _target_rect.width + 'px',\n      left: _target_offset.left + 'px',\n      top: _target_offset.top - value + 'px'\n    });\n  }\n\n  if (property === 'marginRight') {\n    styles.add(spacingEl, {\n      height: _target_rect.height + 'px',\n      width: `${value}px`,\n      left: _target_offset.left + parseInt(_target_rect.width + '', 10) + 'px',\n      top: _target_offset.top + 'px'\n    });\n  }\n\n  if (property === 'marginBottom') {\n    styles.add(spacingEl, {\n      height: `${value}px`,\n      width: _target_rect.width + 'px',\n      left: _target_offset.left + 'px',\n      top: _target_offset.top + parseInt(_target_rect.height + '', 10) + 'px'\n    });\n  }\n\n  if (property === 'marginLeft') {\n    styles.add(spacingEl, {\n      height: _target_rect.height + 'px',\n      width: `${value}px`,\n      left: _target_offset.left - value + 'px',\n      top: _target_offset.top + 'px'\n    });\n  }\n\n  if (property === 'paddingTop') {\n    styles.add(spacingEl, {\n      height: `${value}px`,\n      width: _target_rect.width + 'px',\n      left: _target_offset.left + 'px',\n      top: _target_offset.top + 'px'\n    });\n  }\n\n  if (property === 'paddingBottom') {\n    styles.add(spacingEl, {\n      height: `${value}px`,\n      width: _target_rect.width + 'px',\n      left: _target_offset.left + 'px',\n      top:\n        _target_offset.top +\n        (parseInt(_target_rect.height + '', 10) - value) +\n        'px'\n    });\n  }\n\n  if (property === 'paddingRight') {\n    styles.add(spacingEl, {\n      height: _target_rect.height + 'px',\n      width: `${value}px`,\n      left:\n        _target_offset.left +\n        (parseInt(_target_rect.width + '', 10) - value) +\n        'px',\n      top: _target_offset.top + 'px'\n    });\n  }\n\n  if (property === 'paddingLeft') {\n    styles.add(spacingEl, {\n      height: _target_rect.height + 'px',\n      width: `${value}px`,\n      left: _target_offset.left + 'px',\n      top: _target_offset.top + 'px'\n    });\n  }\n};\n","/******************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    var desc = Object.getOwnPropertyDescriptor(m, k);\r\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\r\n        desc = { enumerable: true, get: function() { return m[k]; } };\r\n    }\r\n    Object.defineProperty(o, k2, desc);\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\r\n\r\nexport function __spreadArray(to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || Array.prototype.slice.call(from));\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n}\r\n\r\nexport function __classPrivateFieldIn(state, receiver) {\r\n    if (receiver === null || (typeof receiver !== \"object\" && typeof receiver !== \"function\")) throw new TypeError(\"Cannot use 'in' operator on non-object\");\r\n    return typeof state === \"function\" ? receiver === state : state.has(receiver);\r\n}\r\n","/* eslint no-console:0 */\n'use strict';\n\nexport const uniqueID = () => '_' + Math.random().toString(36).substring(2, 11);\n","/* eslint no-console:0 */\n'use strict';\n\nimport { waitForFrame } from './wait';\n\n/**\n * Returns the angle between two sets of coordinates\n *\n * See {@link https://stackoverflow.com/a/9614122/460422}\n * @param cx {number}\n * @param cy {number}\n * @param ex {number}\n * @param ey {number}\n * @param [normalize=true] {bool} If the angle output should be normalized to return value between 0° and 360°\n * @returns {number} The angle of the given coordinates\n */\nexport const angle = (\n  cx: number,\n  cy: number,\n  ex: number,\n  ey: number,\n  normalize = true\n) => {\n  if (!cx || !cy || !ex || !ey) {\n    throw new SyntaxError('Missing input for `angle`');\n  }\n\n  if (\n    typeof cx !== 'number' ||\n    typeof cy !== 'number' ||\n    typeof ex !== 'number' ||\n    typeof ey !== 'number'\n  ) {\n    throw new TypeError(\n      `Parameters for \\`angle\\` does not have required type. Requires number! Got: ${typeof cx} ${typeof cy} ${typeof ex} ${typeof ey}`\n    );\n  }\n\n  const dy = ey - cy;\n  const dx = ex - cx;\n\n  let theta = Math.atan2(dy, dx); // range (-PI, PI]\n\n  theta *= 180 / Math.PI; // rads to degs, range (-180, 180]\n\n  if (normalize && theta < 0) theta = 360 + theta; // range [0, 360)\n\n  return theta;\n};\n\nexport const coords = {\n  top: (rect: DOMRect) => rect.top,\n  right: (rect: DOMRect) => rect.left + rect.width,\n  bottom: (rect: DOMRect) => rect.top + rect.height,\n  left: (rect: DOMRect) => rect.left,\n  center_x: (rect: DOMRect) => rect.left + rect.width / 2,\n  center_y: (rect: DOMRect) => rect.top + rect.height / 2\n};\n\nexport const xy = {\n  center: (rect: DOMRect) => ({\n    x: coords.center_x(rect),\n    y: coords.center_y(rect)\n  }),\n  top: (rect: DOMRect) => ({ x: coords.center_x(rect), y: coords.top(rect) }),\n  right: (rect: DOMRect) => ({\n    x: coords.right(rect),\n    y: coords.center_y(rect)\n  }),\n  bottom: (rect: DOMRect) => ({\n    x: coords.center_x(rect),\n    y: coords.bottom(rect)\n  }),\n  left: (rect: DOMRect) => ({ x: coords.left(rect), y: coords.center_y(rect) }),\n  'right-top': (rect: DOMRect) => ({\n    x: coords.right(rect),\n    y: coords.top(rect)\n  }),\n  'right-bottom': (rect: DOMRect) => ({\n    x: coords.right(rect),\n    y: coords.bottom(rect)\n  }),\n  'left-top': (rect: DOMRect) => ({\n    x: coords.left(rect),\n    y: coords.top(rect)\n  }),\n  'left-bottom': (rect: DOMRect) => ({\n    x: coords.left(rect),\n    y: coords.bottom(rect)\n  }),\n  'top-left': (rect: DOMRect) => ({\n    x: coords.left(rect),\n    y: coords.top(rect)\n  }),\n  'top-right': (rect: DOMRect) => ({\n    x: coords.right(rect),\n    y: coords.top(rect)\n  }),\n  'bottom-left': (rect: DOMRect) => ({\n    x: coords.left(rect),\n    y: coords.bottom(rect)\n  }),\n  'bottom-right': (rect: DOMRect) => ({\n    x: coords.right(rect),\n    y: coords.bottom(rect)\n  }),\n  'top-center': (rect: DOMRect) => ({\n    x: coords.center_x(rect),\n    y: coords.top(rect)\n  }),\n  'right-center': (rect: DOMRect) => ({\n    x: coords.right(rect),\n    y: coords.center_y(rect)\n  }),\n  'bottom-center': (rect: DOMRect) => ({\n    x: coords.center_x(rect),\n    y: coords.bottom(rect)\n  }),\n  'left-center': (rect: DOMRect) => ({\n    x: coords.left(rect),\n    y: coords.center_y(rect)\n  })\n};\n\nexport const get_coords_pair_from_objects = async (\n  el1: HTMLElement,\n  el2: HTMLElement,\n  pos1 = 'center',\n  pos2 = 'center'\n) => {\n  if (!el1 || !el2) {\n    throw 'No element given';\n  }\n\n  const { x: x1, y: y1 } = await intrinsic_coords(el1, pos1);\n  const { x: x2, y: y2 } = await intrinsic_coords(el2, pos2);\n\n  return {\n    x1,\n    y1,\n    x2,\n    y2\n  };\n};\n\nexport const intrinsic_coords = async (el: HTMLElement, pos = 'center') => {\n  if (!pos) {\n    throw 'No position given';\n  }\n\n  if (typeof pos !== 'string') {\n    throw `The position given is not the required type: pos: ${typeof pos}`;\n  }\n\n  const _allowed_positions = [\n    'center',\n    'left',\n    'right',\n    'top',\n    'bottom',\n    'right-top',\n    'right-bottom',\n    'left-top',\n    'left-bottom',\n    'top-left',\n    'top-right',\n    'bottom-left',\n    'bottom-right',\n    'top-center',\n    'right-center',\n    'bottom-center',\n    'left-center'\n  ];\n\n  if (!_allowed_positions.includes(pos)) {\n    throw `The position given does not match allowed positions to use! Valid positions are: ${_allowed_positions.join(\n      ', '\n    )}`;\n  }\n\n  await waitForFrame();\n\n  const _el_rect = el.getBoundingClientRect();\n\n  return xy[pos](_el_rect);\n};\n\nexport const direction_of_element = async ({ start, stop, crude = false }) => {\n  const { x1, y1, x2, y2 } = await get_coords_pair_from_objects(start, stop);\n  const _angle = angle(x1, y1, x2, y2);\n  const _direction = crude\n    ? cardinal_direction_crude(_angle)\n    : cardinal_direction(_angle);\n\n  return _direction;\n};\n\n/**\n * Gives you the cardinal direction based on degrees\n * Note! The degrees start at 0, which is EAST (orignally, north should be 0, but here, north is 270),\n * and we travel clockwise\n */\nexport const cardinal_direction = (degrees: number): string => {\n  if (degrees > 360) throw RangeError('parameter cannot exceed 360');\n\n  if (degrees < 0) throw RangeError('parameter cannot be lower than 0');\n\n  if (degrees >= 0 && degrees <= 22.5) {\n    return 'east';\n  } else if (degrees >= 22.5 && degrees <= 67.5) {\n    return 'south-east';\n  } else if (degrees >= 67.5 && degrees <= 112.5) {\n    return 'south';\n  } else if (degrees >= 112.5 && degrees <= 157.5) {\n    return 'south-west';\n  } else if (degrees >= 157.5 && degrees <= 202.5) {\n    return 'west';\n  } else if (degrees >= 202.5 && degrees <= 247.5) {\n    return 'north-west';\n  } else if (degrees >= 247.5 && degrees <= 292.5) {\n    return 'north';\n  } else if (degrees >= 292.5 && degrees <= 337.5) {\n    return 'north-east';\n  } else {\n    return 'east';\n  }\n};\n\n/**\n * Note! The degrees start at 0, which is EAST (orignally, north should be 0, but here, north is 270),\n * and we travel clockwise\n */\nexport const cardinal_direction_crude = (degrees: number): string => {\n  if (degrees > 360) throw RangeError('parameter cannot exceed 360');\n\n  if (degrees < 0) throw RangeError('parameter cannot be lower than 0');\n\n  if (degrees >= 45 && degrees <= 135) {\n    return 'south';\n  } else if (degrees > 135 && degrees <= 225) {\n    return 'west';\n  } else if (degrees > 225 && degrees <= 315) {\n    return 'north';\n  } else if (degrees > 315) {\n    return 'east';\n  } else {\n    return 'east';\n  }\n};\n","import {\n  BezierPathOptions,\n  CreateCoordinatesForCurveCoordParamType,\n  CreateCoordinatesForCurveOptionsParamType,\n  CurlyBezierPathOptions\n} from 'types/bezier';\nimport * as cardinal from './cardinal';\n\nexport const createCoordinatesForCurve = (\n  coords: CreateCoordinatesForCurveCoordParamType,\n  options: CreateCoordinatesForCurveOptionsParamType\n) => {\n  const { x1, x2, y1, y2 } = coords;\n  const { direct = false, firstSet = false, direction } = options;\n  const firstPoint = { x: x1, y: y1 }; // The first point of line\n  const lastPoint = { x: x2, y: y2 }; // The last point of line\n\n  let firstControl = { x: x1 + (x2 - x1) / 2, y: y1 }; // Controller for p0\n  let lastControl = { x: x1 + (x2 - x1) / 2, y: y2 }; // Controller for p1\n\n  if (direct) {\n    // first part of the curly bracket\n\n    if (firstSet) {\n      if (direction === 'west') {\n        firstControl = { x: x1 - 32, y: y1 - 16 / 2 }; // Controller for p0\n        lastControl = { x: x2 + 32, y: y2 }; // Controller for p1\n      } else if (direction === 'south') {\n        firstControl = { x: x1 - 16 / 2, y: y1 + 32 }; // Controller for p0\n        lastControl = { x: x2, y: y2 - 32 }; // Controller for p1\n      } else if (direction === 'east') {\n        firstControl = { x: x1 + 32, y: y1 - 16 / 2 }; // Controller for p0\n        lastControl = { x: x2 - 32, y: y2 }; // Controller for p1\n      } else {\n        firstControl = { x: x1 - 16 / 2, y: y1 - 32 }; // Controller for p0\n        lastControl = { x: x2, y: y2 + 32 }; // Controller for p1\n      }\n    } else {\n      if (direction === 'west') {\n        firstControl = { x: x1 - 32, y: y1 + 16 / 2 }; // Controller for p0\n        lastControl = { x: x2 + 32, y: y2 }; // Controller for p1\n      } else if (direction === 'south') {\n        firstControl = { x: x1 + 16 / 2, y: y1 + 32 }; // Controller for p0\n        lastControl = { x: x2, y: y2 - 32 }; // Controller for p1\n      } else if (direction === 'east') {\n        firstControl = { x: x1 + 32, y: y1 + 16 / 2 }; // Controller for p0\n        lastControl = { x: x2 - 32, y: y2 }; // Controller for p1\n      } else {\n        firstControl = { x: x1 + 16 / 2, y: y1 - 32 }; // Controller for p0\n        lastControl = { x: x2, y: y2 + 32 }; // Controller for p1\n      }\n    }\n  }\n\n  return {\n    firstPoint,\n    firstControl,\n    lastPoint,\n    lastControl\n  };\n};\n\nexport const getCurlySVGPath = async (\n  startEl: HTMLElement,\n  stopEl: HTMLElement,\n  options: CurlyBezierPathOptions\n) => {\n  const { pos1, pos2, firstSet = false, direction } = options;\n  const { x1, y1, x2, y2 } = await cardinal.get_coords_pair_from_objects(\n    startEl,\n    stopEl,\n    pos1,\n    pos2\n  );\n  const x1modifier = 0;\n  const y1modifier = 0;\n\n  let x2modifier = 0;\n  let y2modifier = 0;\n\n  // make a gap between the pin and the bracket center\n  if (direction == 'north') {\n    y2modifier = 8;\n  } else if (direction == 'west') {\n    x2modifier = 8;\n  } else if (direction == 'east') {\n    x2modifier = -8;\n  } else if (direction == 'south') {\n    y2modifier = -8;\n  }\n\n  const _coordinates = createCoordinatesForCurve(\n    {\n      x1: x1 + x1modifier,\n      x2: x2 + x2modifier,\n      y1: y1 + y1modifier,\n      y2: y2 + y2modifier\n    },\n    {\n      direct: true,\n      firstSet,\n      direction\n    }\n  );\n  const { firstPoint, firstControl, lastControl, lastPoint } = _coordinates;\n\n  return (\n    'M ' +\n    firstPoint.x +\n    ' ' +\n    firstPoint.y +\n    'C ' +\n    firstControl.x +\n    ' ' +\n    firstControl.y +\n    ', ' +\n    lastControl.x +\n    ' ' +\n    lastControl.y +\n    ', ' +\n    lastPoint.x +\n    ' ' +\n    lastPoint.y\n  );\n};\n\nexport const getSVGPath = async (\n  startEl: HTMLElement,\n  stopEl: HTMLElement,\n  options: BezierPathOptions\n) => {\n  const { pos1, pos2 } = options;\n  const { x1, y1, x2, y2 } = await cardinal.get_coords_pair_from_objects(\n    startEl,\n    stopEl,\n    pos1,\n    pos2\n  );\n  const _coordinates = createCoordinatesForCurve(\n    { x1, x2, y1, y2 },\n    {\n      direction: ''\n    }\n  );\n  const { firstPoint, firstControl, lastControl, lastPoint } = _coordinates;\n\n  return (\n    'M ' +\n    firstPoint.x +\n    ' ' +\n    firstPoint.y +\n    'C ' +\n    firstControl.x +\n    ' ' +\n    firstControl.y +\n    ', ' +\n    lastControl.x +\n    ' ' +\n    lastControl.y +\n    ', ' +\n    lastPoint.x +\n    ' ' +\n    lastPoint.y\n  );\n};\n\nexport const getPositionsForSVGPath = (direction: string) => {\n  let _pos1: string;\n  let _pos2: string;\n\n  switch (direction) {\n    case 'east': {\n      _pos1 = 'right';\n      _pos2 = 'left';\n      break;\n    }\n    case 'south': {\n      _pos1 = 'bottom';\n      _pos2 = 'top';\n      break;\n    }\n\n    case 'west': {\n      _pos1 = 'left';\n      _pos2 = 'right';\n      break;\n    }\n    case 'north':\n    default: {\n      _pos1 = 'top';\n      _pos2 = 'bottom';\n      break;\n    }\n  }\n\n  return {\n    pos1: _pos1,\n    pos2: _pos2\n  };\n};\n\nexport const getPositionsForCurlySVGPath = (direction: string) => {\n  let _path1_pos1: string;\n  let _path1_pos2: string;\n  let _path2_pos1: string;\n  let _path2_pos2: string;\n\n  switch (direction) {\n    case 'east': {\n      _path1_pos1 = 'right-top';\n      _path1_pos2 = 'left-center';\n      _path2_pos1 = 'right-bottom';\n      _path2_pos2 = 'left-center';\n      break;\n    }\n    case 'south': {\n      _path1_pos1 = 'bottom-left';\n      _path1_pos2 = 'top-center';\n      _path2_pos1 = 'bottom-right';\n      _path2_pos2 = 'top-center';\n      break;\n    }\n    case 'west': {\n      _path1_pos1 = 'left-top';\n      _path1_pos2 = 'right-center';\n      _path2_pos1 = 'left-bottom';\n      _path2_pos2 = 'right-center';\n      break;\n    }\n    case 'north':\n    default: {\n      _path1_pos1 = 'top-left';\n      _path1_pos2 = 'bottom-center';\n      _path2_pos1 = 'top-right';\n      _path2_pos2 = 'bottom-center';\n      break;\n    }\n  }\n\n  return {\n    path1pos1: _path1_pos1,\n    path1pos2: _path1_pos2,\n    path2pos1: _path2_pos1,\n    path2pos2: _path2_pos2\n  };\n};\n","/* eslint-disable no-unused-vars */\n\nexport enum SpeccerAreaEnum {\n  Empty = '',\n  Left = 'left',\n  Right = 'right',\n  Bottom = 'bottom',\n  Top = 'top',\n}\n\nexport enum DissectAreaEnum {\n  Outline = 'outline',\n  Enclose = 'enclose',\n  Full = 'full',\n  Left = 'left',\n  Right = 'right',\n  Bottom = 'bottom',\n  Top = 'top',\n  SVG = 'svg',\n  Curly = 'curly',\n}\n\nexport enum MeasureAreaEnum {\n  Width = 'width',\n  Height = 'height',\n  Left = 'left',\n  Right = 'right',\n  Bottom = 'bottom',\n  Top = 'top',\n}\n","'use strict';\n\nimport { uniqueID } from '../id';\nimport * as cardinal from '../cardinal';\nimport { getPositionsForSVGPath, getSVGPath } from 'lib/bezier';\n\nexport class DrawSVGLine {\n  #canvas: HTMLElement | SVGElement | null;\n  #originalPathElement: HTMLElement | SVGPathElement | null;\n  startElement: HTMLElement;\n  stopElement: HTMLElement;\n  line: SVGPathElement;\n\n  constructor(startElement: HTMLElement, stopElement: HTMLElement) {\n    this.#init(startElement, stopElement);\n  }\n\n  #init(startElement: HTMLElement, stopElement: HTMLElement) {\n    if (!startElement || !stopElement) {\n      throw 'Missing inputs startElement and stopElement';\n    }\n\n    if (!document.body.contains(stopElement)) {\n      throw 'stopElement is not in the DOM';\n    }\n\n    if (!document.body.contains(startElement)) {\n      throw 'startElement is not in the DOM';\n    }\n\n    this.startElement = startElement;\n    this.stopElement = stopElement;\n\n    this.#canvas = document.getElementById('ph-speccer-svg');\n    this.#originalPathElement = document.getElementById('ph-speccer-path');\n\n    if (!this.#originalPathElement || !this.#canvas) {\n      throw 'Missing required SVG element to draw lines. Please see the documentation';\n    }\n\n    this.connect();\n  }\n\n  connect() {\n    this.draw(this.#originalPathElement as SVGPathElement);\n  }\n\n  async draw(path: SVGPathElement) {\n    if (!path) {\n      throw 'No path given to draw!';\n    }\n\n    const _id = uniqueID();\n    const _path_el_id = `ph_draw_path-path-${_id}`;\n    const _new_path = path.cloneNode(false) as SVGPathElement;\n\n    _new_path.setAttribute('id', _path_el_id);\n    _new_path.setAttribute(\n      'data-start-el',\n      this.startElement.getAttribute('id') || 'no-id-found'\n    );\n    _new_path.classList.remove('original');\n    _new_path.classList.add('speccer');\n\n    if (path.parentNode) {\n      this.line = path.parentNode.insertBefore(_new_path, path.nextSibling);\n    } else {\n      throw 'No parentNode found for path';\n    }\n\n    const _direction = await cardinal.direction_of_element({\n      start: this.startElement,\n      stop: this.stopElement,\n      crude: true\n    });\n    const { pos1, pos2 } = getPositionsForSVGPath(_direction);\n    const _d = await getSVGPath(this.startElement, this.stopElement, {\n      pos1,\n      pos2\n    });\n\n    this.line.setAttribute('data-direction', _direction);\n    this.line.setAttribute('data-pos1', pos1);\n    this.line.setAttribute('data-pos2', pos2);\n\n    this.line.setAttribute('d', _d); //svg attributes\n  }\n}\n\nwindow.DrawSVGLine = DrawSVGLine;\n","'use strict';\n\nimport { uniqueID } from '../id';\nimport * as cardinal from '../cardinal';\nimport { getCurlySVGPath, getPositionsForCurlySVGPath } from 'lib/bezier';\n\nexport class DrawSVGCurlyBracket {\n  #canvas: HTMLElement | SVGElement | null;\n  #originalPathElement: HTMLElement | SVGPathElement | null;\n  startElement: HTMLElement;\n  stopElement: HTMLElement;\n  firstPathElement: SVGPathElement;\n  secondPathElement: SVGPathElement;\n\n  constructor(startElement: HTMLElement, stopElement: HTMLElement) {\n    this.#init(startElement, stopElement);\n  }\n\n  #init(startElement: HTMLElement, stopElement: HTMLElement) {\n    if (!startElement || !stopElement) {\n      throw 'Missing inputs startElement and stopElement';\n    }\n\n    if (!document.body.contains(stopElement)) {\n      throw 'stopElement is not in the DOM';\n    }\n\n    if (!document.body.contains(startElement)) {\n      throw 'startElement is not in the DOM';\n    }\n\n    this.startElement = startElement;\n    this.stopElement = stopElement;\n\n    this.#canvas = document.getElementById('ph-speccer-svg');\n    this.#originalPathElement = document.getElementById('ph-speccer-path');\n\n    if (!this.#originalPathElement || !this.#canvas) {\n      throw 'Missing required SVG element to draw lines. Please see the documentation';\n    }\n\n    this.connect();\n  }\n\n  connect() {\n    this.draw(this.#originalPathElement as SVGPathElement);\n  }\n\n  #getPathElement(path: SVGPathElement) {\n    if (!path) {\n      throw 'No path given to #getPathElement!';\n    }\n\n    const _id = uniqueID();\n    const _path_el_id = `ph_draw_path-path-${_id}`;\n    const _new_path = path.cloneNode(false) as SVGPathElement;\n\n    _new_path.setAttribute(\n      'data-start-el',\n      this.startElement.getAttribute('id') || 'no-id-found'\n    );\n    _new_path.setAttribute('id', _path_el_id);\n    _new_path.classList.remove('original');\n    _new_path.classList.add('speccer');\n\n    return _new_path;\n  }\n\n  async draw(path: SVGPathElement) {\n    if (!path) {\n      throw 'No path given to draw!';\n    }\n\n    const _first_path_element = this.#getPathElement(path);\n    const _second_path_element = this.#getPathElement(path);\n\n    if (path.parentNode) {\n      this.firstPathElement = path.parentNode.insertBefore(\n        _first_path_element,\n        path.nextSibling\n      );\n      this.secondPathElement = path.parentNode.insertBefore(\n        _second_path_element,\n        path.nextSibling\n      );\n    } else {\n      throw 'No parentNode found for path';\n    }\n\n    const _direction = await cardinal.direction_of_element({\n      stop: this.stopElement,\n      start: this.startElement,\n      crude: true\n    });\n    const { path1pos1, path1pos2, path2pos1, path2pos2 } =\n      getPositionsForCurlySVGPath(_direction);\n    const _first_path_d = await getCurlySVGPath(\n      this.startElement,\n      this.stopElement,\n      {\n        pos1: path1pos1,\n        pos2: path1pos2,\n        firstSet: true,\n        direction: _direction\n      }\n    );\n    const _second_path_d = await getCurlySVGPath(\n      this.startElement,\n      this.stopElement,\n      {\n        pos1: path2pos1,\n        pos2: path2pos2,\n        direction: _direction\n      }\n    );\n\n    this.firstPathElement.setAttribute('data-direction', _direction);\n    this.firstPathElement.setAttribute('data-pos1', path1pos1);\n    this.firstPathElement.setAttribute('data-pos2', path1pos2);\n    this.firstPathElement.setAttribute('d', _first_path_d); //svg attributes\n    this.secondPathElement.setAttribute('data-direction', _direction);\n    this.secondPathElement.setAttribute('data-pos1', path2pos1);\n    this.secondPathElement.setAttribute('data-pos2', path2pos2);\n    this.secondPathElement.setAttribute('d', _second_path_d); //svg attributes\n  }\n}\n\nwindow.DrawSVGCurlyBracket = DrawSVGCurlyBracket;\n","import { DissectAreaEnum, MeasureAreaEnum } from 'enums/area';\n\nexport const getAreasFromString = (areaString: string): string[] =>\n  areaString.split(' ');\n\nexport const isLeftArea = (areaString: string): boolean => {\n  const areas = getAreasFromString(areaString);\n\n  return areas.includes(DissectAreaEnum.Left);\n};\n\nexport const isRightArea = (areaString: string): boolean => {\n  const areas = getAreasFromString(areaString);\n\n  return areas.includes(DissectAreaEnum.Right);\n};\n\nexport const isTopArea = (areaString: string): boolean => {\n  const areas = getAreasFromString(areaString);\n\n  return areas.includes(DissectAreaEnum.Top);\n};\n\nexport const isBottomArea = (areaString: string): boolean => {\n  const areas = getAreasFromString(areaString);\n\n  return areas.includes(DissectAreaEnum.Bottom);\n};\n\nexport const isFullArea = (areaString: string): boolean => {\n  const areas = getAreasFromString(areaString);\n\n  return areas.includes(DissectAreaEnum.Full);\n};\n\nexport const isEncloseArea = (areaString: string): boolean => {\n  const areas = getAreasFromString(areaString);\n\n  return areas.includes(DissectAreaEnum.Enclose);\n};\n\nexport const isHeightArea = (areaString: string): boolean => {\n  const areas = getAreasFromString(areaString);\n\n  return areas.includes(MeasureAreaEnum.Height);\n};\n\nexport const isWidthArea = (areaString: string): boolean => {\n  const areas = getAreasFromString(areaString);\n\n  return areas.includes(MeasureAreaEnum.Width);\n};\n\nexport const useSVG = (areaString: string): boolean =>\n  areaString.indexOf(DissectAreaEnum.Curly) === -1 &&\n  areaString.indexOf(DissectAreaEnum.Full) === -1 &&\n  areaString.indexOf(DissectAreaEnum.Enclose) === -1 &&\n  areaString.indexOf(DissectAreaEnum.SVG) !== -1;\n\nexport const isCurly = (areaString: string): boolean =>\n  areaString.indexOf(DissectAreaEnum.Full) !== -1 &&\n  areaString.indexOf(DissectAreaEnum.Curly) !== -1;\n","import * as css from '../../lib/css';\nimport * as position from '../../lib/position';\nimport {\n  isBottomArea,\n  isEncloseArea,\n  isFullArea,\n  isLeftArea,\n  isRightArea\n} from 'lib/area';\nimport { DissectStylesOptionsType } from 'types/bezier';\n\nexport const styles = async (\n  area: string,\n  targetEl: HTMLElement,\n  dissectionEl: HTMLElement,\n  options?: DissectStylesOptionsType\n) => {\n  const { isCurly = false } = options || {};\n  const SPECCER_PIN_SPACE = css.pinSpace(dissectionEl);\n  const SPECCER_MEASURE_SIZE = css.measureSize(dissectionEl);\n  const _positional_styles = await position.getRec(dissectionEl, targetEl);\n\n  if (isEncloseArea(area)) {\n    const { left, top, height, width } = _positional_styles.absolute();\n\n    return {\n      left: `${left}px`,\n      top: `${top}px`,\n      height: `${height}px`,\n      width: `${width}px`\n    };\n  }\n\n  if (isLeftArea(area)) {\n    if (isFullArea(area) && !isCurly) {\n      const { left, top, height } = _positional_styles.fromLeft({\n        sourceWidth: SPECCER_MEASURE_SIZE\n      });\n\n      return {\n        left: `${left}px`,\n        top: `${top}px`,\n        height: `${height}px`\n      };\n    } else {\n      const { left, top } = _positional_styles.fromLeft({\n        center: true,\n        modifier: isCurly ? SPECCER_PIN_SPACE / 1.5 : SPECCER_PIN_SPACE\n      });\n\n      return {\n        left: `${left}px`,\n        top: `${top}px`\n      };\n    }\n  } else if (isRightArea(area)) {\n    if (isFullArea(area) && !isCurly) {\n      const { left, top, height } = _positional_styles.fromRight({\n        center: false\n      });\n\n      return {\n        left: `${left}px`,\n        top: `${top}px`,\n        height: `${height}px`\n      };\n    } else {\n      const { left, top } = _positional_styles.fromRight({\n        center: true,\n        modifier: isCurly ? SPECCER_PIN_SPACE / 1.5 : SPECCER_PIN_SPACE\n      });\n\n      return {\n        left: `${left}px`,\n        top: `${top}px`\n      };\n    }\n  } else if (isBottomArea(area)) {\n    if (isFullArea(area) && !isCurly) {\n      const { left, top, width } = _positional_styles.fromBottom({\n        center: false\n      });\n\n      return {\n        left: `${left}px`,\n        top: `${top}px`,\n        width: `${width}px`\n      };\n    } else {\n      const { left, top } = _positional_styles.fromBottom({\n        center: true,\n        modifier: isCurly ? SPECCER_PIN_SPACE / 1.5 : SPECCER_PIN_SPACE\n      });\n\n      return {\n        left: `${left}px`,\n        top: `${top}px`\n      };\n    }\n  } else {\n    if (isFullArea(area) && !isCurly) {\n      const { left, top, width } = _positional_styles.fromTop({\n        center: false\n      });\n\n      return {\n        left: `${left}px`,\n        top: `${top}px`,\n        width: `${width}px`\n      };\n    } else {\n      const { left, top } = _positional_styles.fromTop({\n        center: true,\n        modifier: isCurly ? SPECCER_PIN_SPACE / 1.5 : SPECCER_PIN_SPACE\n      });\n\n      return {\n        left: `${left}px`,\n        top: `${top}px`\n      };\n    }\n  }\n};\n","/* eslint no-console:0 */\n'use strict';\n\nimport * as styles from '../lib/styles';\nimport { DrawSVGLine, DrawSVGCurlyBracket } from '../lib/classes';\nimport * as classnames from '../lib/classnames';\nimport { DissectAreaEnum } from '../enums/area';\nimport * as helpers from '../helpers/dissect';\nimport { SPECCER_LITERALS } from '../lib/constants';\nimport { isCurly, isEncloseArea, isFullArea, useSVG } from 'lib/area';\n\nexport const create = (textContent = '', area: string, n = 'span') => {\n  const _el = document.createElement(n);\n  const _text_node = document.createTextNode(textContent);\n  const _extra_class_names = {};\n\n  if (area !== null && area !== '') {\n    _extra_class_names[area] = true;\n  }\n\n  if (\n    (!isFullArea(area) && !isEncloseArea(area)) ||\n    (isFullArea(area) && isCurly(area))\n  ) {\n    _el.appendChild(_text_node);\n  } else if (isFullArea(area) || isEncloseArea(area)) {\n    _el.setAttribute('data-dissection-counter', textContent);\n  }\n\n  const _class_names = classnames.cx(\n    'ph speccer dissection',\n    _extra_class_names\n  );\n\n  classnames.set(_el, _class_names);\n\n  return _el;\n};\n\nexport const element = (sectionEl: HTMLElement) => {\n  if (!sectionEl) return;\n\n  const _dissection_els = sectionEl.querySelectorAll('[data-anatomy]');\n\n  if (_dissection_els) {\n    let _index_to_use = 0;\n\n    _dissection_els.forEach(async (targetEl: HTMLElement, targetIndex) => {\n      if (!targetEl) return Promise.resolve();\n\n      const _areas_string: string = targetEl.getAttribute('data-anatomy') || '';\n\n      if (\n        !_areas_string ||\n        _areas_string === '' ||\n        _areas_string.indexOf(DissectAreaEnum.Outline) === -1\n      )\n        return;\n\n      /**\n       * If we're running out of literals to use,\n       * make a new one with uppercase and lower case pairs\n       */\n      let _literal_to_use = SPECCER_LITERALS[targetIndex];\n\n      if (!_literal_to_use) {\n        _literal_to_use = `${SPECCER_LITERALS[_index_to_use]}${SPECCER_LITERALS[\n          _index_to_use\n        ].toLowerCase()}`;\n        _index_to_use++;\n      }\n\n      const _dissection_el = create(_literal_to_use, _areas_string);\n\n      document.body.appendChild(_dissection_el);\n\n      const _dissection_styles = await helpers.styles(\n        _areas_string,\n        targetEl,\n        _dissection_el,\n        {\n          isCurly: isCurly(_areas_string)\n        }\n      );\n\n      await styles.add(_dissection_el, _dissection_styles);\n\n      if (useSVG(_areas_string)) {\n        new DrawSVGLine(targetEl, _dissection_el);\n      } else if (isCurly(_areas_string)) {\n        new DrawSVGCurlyBracket(targetEl, _dissection_el);\n      }\n    });\n  }\n};\n","/* eslint no-console:0 */\n'use strict';\n\nimport { isBottomArea, isHeightArea, isRightArea, isWidthArea } from 'lib/area';\nimport * as classnames from '../lib/classnames';\nimport * as styles from '../lib/styles';\nimport { waitForFrame } from '../lib/wait';\nimport * as position from '../lib/position';\nimport { SPECCER_DEFAULT_MEASURE_SIZE_NEG } from 'lib/constants';\n\nconst create = (\n  text: string | number = '',\n  area: string | null = '',\n  tag = 'span'\n) => {\n  const _el = document.createElement(tag);\n\n  _el.setAttribute('title', text + 'px');\n  _el.setAttribute('data-measure', parseInt(text + '', 10) + 'px');\n\n  classnames.set(_el, `ph speccer measure ${area}`);\n\n  return _el;\n};\n\nexport const element = async (targetEl: HTMLElement) => {\n  if (!targetEl) return;\n\n  const _areas_string: string | null = targetEl.getAttribute(\n    'data-speccer-measure'\n  );\n\n  if (_areas_string === '' || !_areas_string) {\n    return;\n  }\n\n  const _target_styles = await styles.get(targetEl);\n\n  if (\n    _target_styles.display === 'none' ||\n    _target_styles.opacity === '0' ||\n    _target_styles.visibility === 'hidden'\n  ) {\n    return;\n  }\n\n  await waitForFrame();\n\n  const _target_rect = targetEl.getBoundingClientRect();\n\n  if (isWidthArea(_areas_string)) {\n    if (isBottomArea(_areas_string)) {\n      const _measure_el = create(_target_rect.width, _areas_string);\n\n      document.body.appendChild(_measure_el);\n\n      const _positional_styles = await position.getRec(_measure_el, targetEl);\n      const { left, top, width } = _positional_styles.fromBottom({\n        center: false\n      });\n\n      await styles.add(_measure_el, {\n        left: `${left}px`,\n        top: `${top}px`,\n        width: `${width}px`\n      });\n    } else {\n      const _measure_el = create(_target_rect.width, _areas_string);\n\n      document.body.appendChild(_measure_el);\n\n      const _positional_styles = await position.getRec(_measure_el, targetEl);\n      const { left, top, width } = _positional_styles.fromTop({\n        center: false,\n        modifier: SPECCER_DEFAULT_MEASURE_SIZE_NEG\n      });\n\n      await styles.add(_measure_el, {\n        left: `${left}px`,\n        top: `${top}px`,\n        width: `${width}px`\n      });\n    }\n  } else if (isHeightArea(_areas_string)) {\n    if (isRightArea(_areas_string)) {\n      const _measure_el = create(_target_rect.height, _areas_string);\n\n      document.body.appendChild(_measure_el);\n\n      const _positional_styles = await position.getRec(_measure_el, targetEl);\n      const { left, top, height } = _positional_styles.fromRight({\n        center: false\n      });\n\n      await styles.add(_measure_el, {\n        left: `${left}px`,\n        top: `${top}px`,\n        height: `${height}px`\n      });\n    } else {\n      const _measure_el = create(_target_rect.height, _areas_string);\n\n      document.body.appendChild(_measure_el);\n\n      const _positional_styles = await position.getRec(_measure_el, targetEl);\n      const { left, top, height } = _positional_styles.fromLeft({\n        center: false,\n        modifier: SPECCER_DEFAULT_MEASURE_SIZE_NEG\n      });\n\n      await styles.add(_measure_el, {\n        left: `${left}px`,\n        top: `${top}px`,\n        height: `${height}px`\n      });\n    }\n  }\n};\n","/* eslint no-console:0 */\n'use strict';\n\nimport * as styles from '../lib/styles';\nimport { cx, set } from '../lib/classnames';\nimport { getRec } from 'lib/position';\n\nexport const create = (n = 'span') => {\n  const markElement = document.createElement(n);\n  const classNames = cx('ph speccer mark');\n\n  set(markElement, classNames);\n\n  return markElement;\n};\n\nexport const element = async (elementToMark: HTMLElement) => {\n  if (!elementToMark) return Promise.resolve();\n\n  const markElement = create();\n\n  document.body.appendChild(markElement);\n\n  const positionalStyles = await getRec(markElement, elementToMark);\n  const { left, top, height, width } = positionalStyles.absolute();\n  const markStyles = {\n    left: `${left}px`,\n    top: `${top}px`,\n    height: `${height}px`,\n    width: `${width}px`\n  };\n\n  await styles.add(markElement, markStyles);\n};\n","/* eslint no-console:0 */\n'use strict';\n\nexport const decimal = (number: string | number, decimals = 3): string =>\n  parseFloat(number + '').toFixed(decimals);\n","/* eslint no-console:0 */\n'use strict';\n\nimport * as classnames from '../lib/classnames';\nimport * as styles from '../lib/styles';\nimport * as helpers from '../helpers/typography';\n\nexport const create = (html: string, area: string | null) => {\n  const _el = document.createElement('div');\n  const _extra_class_names = {};\n\n  if (area !== null && area !== '') {\n    _extra_class_names[area] = true;\n  }\n\n  const _class_names = classnames.cx(\n    'ph speccer typography',\n    _extra_class_names\n  );\n\n  _el.innerHTML = html;\n\n  classnames.set(_el, _class_names);\n\n  return _el;\n};\n\nexport const element = async (targetEl: HTMLElement) => {\n  if (!targetEl) return;\n\n  const _area: string | null = targetEl.getAttribute('data-speccer-typography');\n  const _target_styles = await styles.get(targetEl);\n\n  if (\n    _target_styles.display === 'none' ||\n    _target_styles.opacity === '0' ||\n    _target_styles.visibility === 'hidden'\n  ) {\n    return;\n  }\n\n  targetEl.classList.add('is-specced');\n\n  const _html = await helpers.template(targetEl);\n  const _speccer_el = create(_html, _area);\n\n  document.body.appendChild(_speccer_el);\n\n  const _position = await helpers.position(_area, targetEl, _speccer_el);\n\n  styles.add(_speccer_el, _position);\n};\n","/* eslint @typescript-eslint/no-explicit-any: [\"error\", { \"fixToUnknown\": true }] */\n'use strict';\n\nimport { DebounceAnyFunctionType } from 'types/debounce';\n\nconst debounce = function (\n  func: DebounceAnyFunctionType,\n  wait: number,\n  immediate?: boolean\n): DebounceAnyFunctionType {\n  let timeout: null | ReturnType<typeof setTimeout>;\n\n  return function (context: unknown, ...args: unknown[]) {\n    const later = function () {\n      timeout = null;\n\n      if (!immediate) func.apply(context, args);\n    };\n    const callNow = immediate && !timeout;\n\n    if (timeout) {\n      clearTimeout(timeout);\n    }\n\n    timeout = setTimeout(later, wait);\n\n    if (callNow) func.apply(context, args);\n  };\n};\n\nexport default debounce;\n","'use strict';\n\nimport { SpeccerFunctionType } from 'types/speccer';\n\nimport debounce from './debounce';\n\nexport const activate = (speccer: SpeccerFunctionType) => {\n  const speccerEventFunc = () =>\n    debounce(() => {\n      speccer();\n    }, 300);\n\n  window.removeEventListener('resize', speccerEventFunc);\n  window.addEventListener('resize', speccerEventFunc);\n};\n","/* eslint no-console:0 */\n'use strict';\n\nimport { SpeccerFunctionType } from 'types/speccer';\n\nimport * as resize from './lib/resize';\n\nimport * as spec from './tasks/spec';\nimport * as measure from './tasks/measure';\nimport * as dissect from './tasks/dissect';\n\nexport const dom = (speccer: SpeccerFunctionType) => {\n  if (document.readyState === 'loading') {\n    document.addEventListener('DOMContentLoaded', () => {\n      speccer();\n    });\n  } else {\n    // `DOMContentLoaded` already fired\n    speccer();\n  }\n};\n\nexport const lazy = () => {\n  const _spec_observer = new IntersectionObserver((els, observer) => {\n    els.forEach((el: IntersectionObserverEntry) => {\n      if (el.intersectionRatio > 0) {\n        spec.element(el.target as HTMLElement);\n        observer.unobserve(el.target);\n      }\n    });\n  });\n\n  document\n    .querySelectorAll(\n      '[data-speccer],[data-speccer] *:not(td):not(tr):not(th):not(tfoot):not(thead):not(tbody)'\n    )\n    .forEach((el) => {\n      _spec_observer.observe(el);\n    });\n\n  const _measure_observer = new IntersectionObserver((els, observer) => {\n    els.forEach((el) => {\n      if (el.intersectionRatio > 0) {\n        measure.element(el.target as HTMLElement);\n        observer.unobserve(el.target);\n      }\n    });\n  });\n\n  document.querySelectorAll('[data-speccer-measure]').forEach((el) => {\n    _measure_observer.observe(el);\n  });\n\n  const _dissect_observer = new IntersectionObserver((els, observer) => {\n    els.forEach((el) => {\n      if (el.intersectionRatio > 0) {\n        dissect.element(el.target as HTMLElement);\n        observer.unobserve(el.target);\n      }\n    });\n  });\n\n  document.querySelectorAll('[data-anatomy-section]').forEach((el) => {\n    _dissect_observer.observe(el);\n  });\n};\n\nexport const manual = (speccer: SpeccerFunctionType) => {\n  window.speccer = speccer;\n};\n\nexport const activate = (speccer: SpeccerFunctionType) => {\n  const _script = document.currentScript;\n\n  if (_script) {\n    const _speccer_script_src = _script.getAttribute('src');\n\n    if (\n      _speccer_script_src &&\n      (_speccer_script_src.indexOf('speccer.js') !== -1 ||\n        // for codepen\n        _speccer_script_src.indexOf('JaXpOK.js') !== -1)\n    ) {\n      if (_script.hasAttribute('data-manual')) {\n        manual(speccer);\n      } else if (_script.hasAttribute('data-instant')) {\n        speccer();\n      } else if (_script.hasAttribute('data-dom')) {\n        dom(speccer);\n      } else if (_script.hasAttribute('data-lazy')) {\n        lazy();\n      } else {\n        dom(speccer);\n      }\n\n      if (\n        !_script.hasAttribute('data-manual') &&\n        !_script.hasAttribute('data-lazy')\n      ) {\n        resize.activate(speccer);\n      }\n    }\n  }\n};\n","/* eslint no-console:0 */\n'use strict';\n\nimport './interfaces/global';\nimport * as node from './lib/node';\nimport * as __spacing from './tasks/spec';\nimport * as __dissect from './tasks/dissect';\nimport * as __measure from './tasks/measure';\nimport * as __mark from './tasks/mark';\nimport * as __typography from './tasks/typography';\nimport * as browser from './browser';\n\nexport const spacing = __spacing;\n\nexport const dissect = __dissect;\n\nexport const measure = __measure;\n\nexport const mark = __mark;\n\nexport const typography = __typography;\n\nexport const modes = browser;\n\nconst speccer = () => {\n  node.removeAll('.speccer');\n\n  const _els_to_be_specced = document.querySelectorAll(\n    '[data-speccer],[data-speccer] *:not(td):not(tr):not(th):not(tfoot):not(thead):not(tbody)'\n  );\n  const _els_to_be_measured = document.querySelectorAll(\n    '[data-speccer-measure]'\n  );\n  const _els_to_be_typography_specced = document.querySelectorAll(\n    '[data-speccer-typography]'\n  );\n  const _els_to_be_dissected = document.querySelectorAll(\n    '[data-anatomy-section]'\n  );\n  const _els_to_be_marked = document.querySelectorAll('[data-speccer-mark]');\n\n  _els_to_be_marked.forEach(mark.element);\n  _els_to_be_specced.forEach(spacing.element);\n  _els_to_be_measured.forEach(measure.element);\n  _els_to_be_typography_specced.forEach(typography.element);\n  _els_to_be_dissected.forEach(dissect.element);\n};\n\nexport default speccer;\n\nbrowser.activate(speccer);\n","import * as css from '../../lib/css';\nimport * as styles from '../../lib/styles';\n\nexport const template = async (targetEl: HTMLElement): Promise<string> => {\n  const _target_styles = await styles.get(targetEl);\n  const _styles = css.getTypography(_target_styles);\n  const _line_height =\n    _styles['lineHeight'] !== 'normal'\n      ? parseInt(_styles['lineHeight'], 10) / 16 + 'rem'\n      : 'normal';\n\n  return (\n    `\n` +\n    'font-styles: {' +\n    '<ul class=\"speccer-styles\">' +\n    `  <li><span class=\"property\">font-family:</span> ${_styles['fontFamily']};</li>` +\n    `  <li><span class=\"property\">font-size:</span> ${_styles['fontSize']} / ${\n      parseInt(_styles['fontSize'], 10) / 16\n    }rem;</li>` +\n    `  <li><span class=\"property\">font-weight:</span> ${_styles['fontWeight']};</li>` +\n    `  <li><span class=\"property\">font-variation-settings:</span> ${_styles['fontVariationSettings']};</li>` +\n    `  <li><span class=\"property\">line-height:</span> ${_styles['lineHeight']} / ${_line_height};</li>` +\n    `  <li><span class=\"property\">letter-spacing:</span> ${_styles['letterSpacing']};</li>` +\n    `  <li><span class=\"property\">font-style:</span> ${_styles['fontStyle']};</li>` +\n    '</ul>' +\n    '}'\n  );\n};\n","import * as css from '../../lib/css';\nimport * as number from '../../lib/number';\nimport {\n  get_horizontal_center_of_els,\n  get_vertical_center_of_els,\n  offset\n} from '../../lib/position';\nimport { SpeccerAreaEnum } from '../../enums/area';\n\nexport const position = async (\n  area: string | null,\n  targetEl: HTMLElement,\n  speccerEl: HTMLElement\n) => {\n  const _target_rect = targetEl.getBoundingClientRect();\n  const SPECCER_PIN_SPACE = css.pinSpace(speccerEl);\n  const _speccer_el_rect = speccerEl.getBoundingClientRect();\n  const _el_offset = await offset(targetEl);\n  const _left_layout_position_left =\n    _el_offset.left - _speccer_el_rect.width - SPECCER_PIN_SPACE + 'px';\n  const _left_layout_position_top =\n    number.decimal(\n      get_vertical_center_of_els(_el_offset.top, _speccer_el_rect, _target_rect)\n    ) + 'px';\n  const _right_layout_position_left =\n    _el_offset.left + _target_rect.width + SPECCER_PIN_SPACE + 'px';\n  const _right_layout_position_top =\n    number.decimal(\n      get_vertical_center_of_els(_el_offset.top, _speccer_el_rect, _target_rect)\n    ) + 'px';\n  const _top_layout_position_left =\n    number.decimal(\n      get_horizontal_center_of_els(\n        _el_offset.left,\n        _speccer_el_rect,\n        _target_rect\n      )\n    ) + 'px';\n  const _top_layout_position_top =\n    _el_offset.top - _speccer_el_rect.height - SPECCER_PIN_SPACE + 'px';\n  const _bottom_layout_position_left =\n    number.decimal(\n      get_horizontal_center_of_els(\n        _el_offset.left,\n        _speccer_el_rect,\n        _target_rect\n      )\n    ) + 'px';\n  const _bottom_layout_position_top =\n    _el_offset.top + _target_rect.height + SPECCER_PIN_SPACE + 'px';\n\n  let _position = {\n    left: _left_layout_position_left,\n    top: _left_layout_position_top\n  };\n\n  if (area && area.indexOf(SpeccerAreaEnum.Right) !== -1) {\n    _position = {\n      left: _right_layout_position_left,\n      top: _right_layout_position_top\n    };\n  } else if (area && area.indexOf(SpeccerAreaEnum.Top) !== -1) {\n    _position = {\n      left: _top_layout_position_left,\n      top: _top_layout_position_top\n    };\n  } else if (area && area.indexOf(SpeccerAreaEnum.Bottom) !== -1) {\n    _position = {\n      left: _bottom_layout_position_left,\n      top: _bottom_layout_position_top\n    };\n  }\n\n  return _position;\n};\n"],"names":["set","el","cls","avoid","length","trim","split","filter","cl","forEach","classList","add","cx","cls_obj","Object","keys","classname","join","SPECCER_LITERALS","getNumberValue","value","parseInt","pinSpace","getComputedStyle","getPropertyValue","waitForFrame","Promise","requestAnimationFrame","async","styles","Array","isArray","constructor","style","key","get","get_horizontal_center_of_els","modifier","startRect","targetRect","width","get_vertical_center_of_els","height","offset","targetEl","_target_rect","getBoundingClientRect","_el_offset_top","top","window","pageYOffset","_el_offset_left","left","pageXOffset","getRec","sourceEl","_source_rect","_target_offset","_target_offset_center","offsetWithCenter","_target_height","_target_width","_source_height","_source_width","absolute","toTop","center","sourceHeight","fromTop","toBottom","targetHeight","fromBottom","toLeft","sourceWidth","fromLeft","toRight","targetWidth","fromRight","create","text","tag","_el","document","createElement","_text_content","createTextNode","appendChild","setAttribute","classnames.set","element","_target_styles","styles.get","display","opacity","visibility","_target_spacing_styles","marginTop","marginBottom","marginLeft","marginRight","paddingTop","paddingBottom","paddingLeft","paddingRight","css.getSpacing","_target_pruned_spacing_styles","property","_value","css.getNumberValue","_speccer_el","_class_name","indexOf","replace","css.getClassNameFromCSSProperty","body","spacingEl","styles.add","helpers.position","__classPrivateFieldGet","receiver","state","kind","f","TypeError","has","call","__classPrivateFieldSet","uniqueID","Math","random","toString","substring","coords","rect","xy","x","y","right","bottom","get_coords_pair_from_objects","el1","el2","pos1","pos2","x1","y1","intrinsic_coords","x2","y2","pos","_allowed_positions","includes","_el_rect","direction_of_element","start","stop","crude","_angle","cy","ex","ey","normalize","SyntaxError","dy","dx","theta","atan2","PI","angle","cardinal_direction_crude","cardinal_direction","degrees","RangeError","createCoordinatesForCurve","options","direct","firstSet","direction","firstControl","lastControl","firstPoint","lastPoint","getCurlySVGPath","startEl","stopEl","cardinal.get_coords_pair_from_objects","x2modifier","y2modifier","_coordinates","SpeccerAreaEnum","DissectAreaEnum","MeasureAreaEnum","DrawSVGLine","startElement","stopElement","_DrawSVGLine_canvas","this","_DrawSVGLine_originalPathElement","connect","draw","path","_path_el_id","_new_path","cloneNode","getAttribute","remove","parentNode","line","insertBefore","nextSibling","_direction","cardinal.direction_of_element","_pos1","_pos2","getPositionsForSVGPath","_d","getSVGPath","WeakMap","_DrawSVGLine_instances","WeakSet","_DrawSVGLine_init","contains","getElementById","DrawSVGCurlyBracket","_DrawSVGCurlyBracket_canvas","_DrawSVGCurlyBracket_originalPathElement","_first_path_element","_DrawSVGCurlyBracket_instances","_DrawSVGCurlyBracket_getPathElement","_second_path_element","firstPathElement","secondPathElement","path1pos1","path1pos2","path2pos1","path2pos2","_path1_pos1","_path1_pos2","_path2_pos1","_path2_pos2","getPositionsForCurlySVGPath","_first_path_d","_second_path_d","_DrawSVGCurlyBracket_init","getAreasFromString","areaString","isRightArea","Right","isBottomArea","Bottom","isFullArea","Full","isEncloseArea","Enclose","isCurly","Curly","area","dissectionEl","SPECCER_PIN_SPACE","css.pinSpace","SPECCER_MEASURE_SIZE","_positional_styles","position.getRec","Left","textContent","n","_text_node","_extra_class_names","_class_names","classnames.cx","sectionEl","_dissection_els","querySelectorAll","_index_to_use","targetIndex","resolve","_areas_string","Outline","_literal_to_use","toLowerCase","_dissection_el","_dissection_styles","helpers.styles","SVG","Width","_measure_el","SPECCER_DEFAULT_MEASURE_SIZE","Height","isHeightArea","markElement","classNames","decimal","number","decimals","parseFloat","toFixed","html","innerHTML","activate","speccer","speccerEventFunc","func","wait","immediate","timeout","context","args","callNow","clearTimeout","setTimeout","apply","debounce","removeEventListener","addEventListener","dom","readyState","lazy","_spec_observer","IntersectionObserver","els","observer","intersectionRatio","spec.element","target","unobserve","observe","_measure_observer","measure.element","_dissect_observer","dissect.element","manual","_script","currentScript","_speccer_script_src","hasAttribute","resize.activate","spacing","__spacing","dissect","measure","mark","elementToMark","positionalStyles","markStyles","typography","_area","_html","_styles","lineHeight","letterSpacing","fontFamily","fontSize","fontStyle","fontVariationSettings","fontWeight","css.getTypography","_line_height","helpers.template","_position","speccerEl","_speccer_el_rect","_el_offset","_left_layout_position_left","_left_layout_position_top","number.decimal","_right_layout_position_left","_right_layout_position_top","_top_layout_position_left","_top_layout_position_top","_bottom_layout_position_left","_bottom_layout_position_top","Top","modes","selector","e","node.removeAll","_els_to_be_specced","_els_to_be_measured","_els_to_be_typography_specced","_els_to_be_dissected"],"mappings":"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"}