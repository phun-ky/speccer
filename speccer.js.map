{"version":3,"file":"speccer.js","sources":["src/lib/node.ts","src/lib/classnames.ts","src/lib/constants.ts","src/lib/css.ts","src/lib/debounce.ts","src/lib/styles.ts","src/lib/position.ts","src/tasks/spec.ts","src/enums/area.ts","src/lib/number.ts","src/tasks/dissect.ts","src/helpers/dissect/styles.ts","src/tasks/measure.ts","src/helpers/typography/position.ts","src/tasks/typography.ts","src/lib/resize.ts","src/browser.ts","src/index.ts","src/helpers/typography/template.ts"],"sourcesContent":["export const after = (el: HTMLElement | null, newSibling: HTMLElement) =>\n  el && el.insertAdjacentElement('afterend', newSibling);\n\nexport const removeAll = (selector: string, el: Document = document) => {\n  [].forEach.call(el.querySelectorAll(selector), function (e: HTMLElement) {\n    e.remove();\n  });\n};\n","/* eslint no-console:0 */\n'use strict';\n\nexport const set = (el: HTMLElement, cls: string, avoid = 'noop') => {\n  if (!el) return;\n\n  if (!cls || (cls && cls.length === 0)) return;\n\n  cls\n    .trim()\n    .split(' ')\n    .filter((cl) => cl !== avoid)\n    .forEach((cl) => el.classList.add(cl));\n};\n\nexport const toggle = (el: HTMLElement, cls: string, avoid = 'noop') => {\n  if (!el) return;\n\n  if (!cls || (cls && cls.length === 0)) return;\n\n  cls\n    .trim()\n    .split(' ')\n    .filter((cl) => cl !== avoid)\n    .forEach((cl) => el.classList.toggle(cl));\n};\n\nexport const remove = (el: HTMLElement, cls: string, avoid = 'noop') => {\n  if (!el) return;\n\n  if (!cls || (cls && cls.length === 0)) return;\n\n  cls\n    .trim()\n    .split(' ')\n    .filter((cl) => cl !== avoid)\n    .forEach((cl) => el.classList.remove(cl));\n};\n\nexport const cx = (cls: string, cls_obj: {}): string =>\n  `${cls} ${Object.keys(cls_obj)\n    .filter((classname) => cls_obj[classname])\n    .join(' ')}`.trim();\n","/* eslint no-console:0 */\n'use strict';\n\nexport const SPECCER_LITERALS = [...'ABCDEFGHIJKLMNOPQRSTUVWXYZ'];\n\nexport const SPECCER_TAGS_TO_AVOID = ['TR', 'TH', 'TD', 'TBODY', 'THEAD', 'TFOOT'];\n\nexport const SPECCER_DEFAULT_PIN_SPACE = 48;\n","/* eslint no-console:0 */\n'use strict';\nimport { SPECCER_DEFAULT_PIN_SPACE } from './constants';\nimport { SpacingCSSPropertiesType, TypographyCSSPropertiesType } from '../types/css';\n\nexport const getNumberValue = (value: string): number => parseInt(value, 10);\n\nexport const normalizeNumberValue = (value: string | number): number => {\n  const _value = parseFloat(value + '');\n\n  return (_value >= 0 && _value < 1) || (_value <= 0 && _value > -1) ? 0 : _value;\n};\n\nexport const getSpacing = (style: SpacingCSSPropertiesType): SpacingCSSPropertiesType => {\n  const { marginTop, marginBottom, marginLeft, marginRight, paddingTop, paddingBottom, paddingLeft, paddingRight } =\n    style;\n\n  return {\n    marginTop,\n    marginBottom,\n    marginLeft,\n    marginRight,\n    paddingTop,\n    paddingBottom,\n    paddingLeft,\n    paddingRight\n  };\n};\n\nexport const getTypography = (style: TypographyCSSPropertiesType): TypographyCSSPropertiesType => {\n  const { lineHeight, letterSpacing, fontFamily, fontSize, fontStyle, fontVariationSettings, fontWeight } = style;\n\n  return {\n    lineHeight,\n    letterSpacing,\n    fontFamily,\n    fontSize,\n    fontStyle,\n    fontVariationSettings,\n    fontWeight\n  };\n};\n\nexport const pinSpace = (el: HTMLElement): number =>\n  getNumberValue(getComputedStyle(el).getPropertyValue('--ph-speccer-pin-space')) || SPECCER_DEFAULT_PIN_SPACE;\n","/* eslint no-console:0 */\n'use strict';\n\nexport const waitForFrame = () => new Promise(requestAnimationFrame);\n\nconst debounce = function (func: Function, wait: number, immediate?: boolean): Function {\n  let timeout: null | ReturnType<typeof setTimeout>;\n\n  return function (this: any) {\n    const context = this;\n    const args = arguments;\n    const later = function () {\n      timeout = null;\n\n      if (!immediate) func.apply(context, args);\n    };\n    const callNow = immediate && !timeout;\n\n    if (timeout) {\n      clearTimeout(timeout);\n    }\n\n    timeout = setTimeout(later, wait);\n\n    if (callNow) func.apply(context, args);\n  };\n};\n\nexport default debounce;\n","/* eslint no-console:0 */\n'use strict';\nimport { waitForFrame } from './debounce';\n\nexport const add = async (el: HTMLElement, styles: [] | object) => {\n  if (\n    !el ||\n    !styles ||\n    typeof styles === 'string' ||\n    typeof styles === 'number' ||\n    typeof styles === 'boolean' ||\n    (Array.isArray(styles) && styles.length === 0) ||\n    (Object.keys(styles).length === 0 && styles.constructor === Object)\n  ) {\n    return;\n  }\n\n  await waitForFrame();\n\n  if (Array.isArray(styles)) {\n    styles.forEach((style: { key: string; value: string }) => (el.style[style.key] = style.value));\n  } else {\n    Object.keys(styles).forEach((key) => (el.style[key] = styles[key]));\n  }\n};\n\nexport const get = async (el: HTMLElement): Promise<CSSStyleDeclaration> => {\n  await waitForFrame();\n\n  return getComputedStyle(el, null);\n};\n","export const get_horizontal_center_of_els = (modifier: number, startRect: DOMRect, targetRect: DOMRect): number =>\n  modifier - startRect.width / 2 + targetRect.width / 2;\n\nexport const get_vertical_center_of_els = (modifier: number, startRect: DOMRect, targetRect: DOMRect): number =>\n  modifier - startRect.height / 2 + targetRect.height / 2;\n\nexport const get_body_correction = () => {\n  const _body_style = getComputedStyle(document.body);\n  const _body_left_correction = parseInt(_body_style.paddingLeft) + parseInt(_body_style.marginLeft);\n  const _body_top_correction = parseInt(_body_style.paddingTop) + parseInt(_body_style.marginTop);\n\n  return {\n    top: _body_top_correction,\n    left: _body_left_correction\n  };\n};\n","/* eslint no-console:0 */\n'use strict';\n\nimport * as classnames from '../lib/classnames';\nimport * as css from '../lib/css';\nimport * as styles from '../lib/styles';\nimport { get_body_correction } from '../lib/position';\nimport { SpeccerElType } from '../types/speccer';\n\nexport const create = (text: string | number = '', tag = 'span') => {\n  const _el = document.createElement(tag);\n  const _text_content = document.createTextNode(text + '');\n\n  _el.appendChild(_text_content);\n  _el.setAttribute('title', text + 'px');\n  classnames.set(_el, 'ph speccer spacing');\n\n  return _el;\n};\n\nexport const element = async (el: HTMLElement) => {\n  const _speccer_el: SpeccerElType = {};\n  const _el_style = await styles.get(el);\n\n  if (_el_style.display === 'none' || _el_style.visibility === 'hidden' || !el.parentElement) {\n    return;\n  }\n\n  el.classList.add('is-specced');\n\n  _speccer_el.styles = css.getSpacing(_el_style);\n\n  const _target_rect = el.getBoundingClientRect();\n  const _body_correction = get_body_correction();\n  const _el_offset_top = el.offsetTop + _body_correction.top;\n  const _el_offset_left = el.offsetLeft + _body_correction.left;\n\n  if (_speccer_el.styles['marginTop'] !== '0px') {\n    const _speccer_margin_top_el = create(css.getNumberValue(_speccer_el.styles.marginTop));\n\n    document.body.appendChild(_speccer_margin_top_el);\n\n    classnames.set(_speccer_margin_top_el, 'margin top');\n    styles.add(_speccer_margin_top_el, {\n      height: _speccer_el.styles.marginTop,\n      width: _target_rect.width + 'px',\n      transform: el.style.transform,\n      left: _el_offset_left + 'px',\n      top: _el_offset_top - parseInt(_speccer_el.styles.marginTop, 10) + 'px'\n    });\n  }\n\n  if (_speccer_el.styles['marginRight'] !== '0px') {\n    const _speccer_margin_right_el = create(css.getNumberValue(_speccer_el.styles.marginRight));\n\n    classnames.set(_speccer_margin_right_el, 'margin right');\n\n    styles.add(_speccer_margin_right_el, {\n      height: _target_rect.height + 'px',\n      width: _speccer_el.styles.marginRight,\n      transform: el.style.transform,\n      left: _el_offset_left + parseInt(_target_rect.width + '', 10) + 'px',\n      top: _el_offset_top + 'px'\n    });\n\n    document.body.appendChild(_speccer_margin_right_el);\n  }\n\n  if (_speccer_el.styles['marginBottom'] !== '0px') {\n    const _speccer_margin_bottom_el = create(css.getNumberValue(_speccer_el.styles.marginBottom));\n\n    classnames.set(_speccer_margin_bottom_el, 'margin bottom');\n\n    styles.add(_speccer_margin_bottom_el, {\n      height: _speccer_el.styles.marginBottom,\n      width: _target_rect.width + 'px',\n      transform: el.style.transform,\n      left: _el_offset_left + 'px',\n      top: _el_offset_top + parseInt(_target_rect.height + '', 10) + 'px'\n    });\n\n    document.body.appendChild(_speccer_margin_bottom_el);\n  }\n\n  if (_speccer_el.styles['marginLeft'] !== '0px') {\n    const _speccer_margin_left_el = create(css.getNumberValue(_speccer_el.styles.marginLeft));\n\n    classnames.set(_speccer_margin_left_el, 'margin left');\n\n    styles.add(_speccer_margin_left_el, {\n      height: _target_rect.height + 'px',\n      width: _speccer_el.styles.marginLeft,\n      transform: el.style.transform,\n      left: _el_offset_left - parseInt(_speccer_el.styles.marginLeft, 10) + 'px',\n      top: _el_offset_top + 'px'\n    });\n\n    document.body.appendChild(_speccer_margin_left_el);\n  }\n\n  if (_speccer_el.styles['paddingTop'] !== '0px') {\n    const _speccer_padding_top_el = create(css.getNumberValue(_speccer_el.styles.paddingTop));\n\n    classnames.set(_speccer_padding_top_el, 'padding top');\n\n    styles.add(_speccer_padding_top_el, {\n      height: _speccer_el.styles.paddingTop,\n      width: _target_rect.width + 'px',\n      transform: el.style.transform,\n      left: _el_offset_left + 'px',\n      top: _el_offset_top + 'px'\n    });\n\n    document.body.appendChild(_speccer_padding_top_el);\n  }\n\n  if (_speccer_el.styles['paddingBottom'] !== '0px') {\n    const _speccer_padding_bottom_el = create(css.getNumberValue(_speccer_el.styles.paddingBottom));\n\n    classnames.set(_speccer_padding_bottom_el, 'padding bottom');\n\n    styles.add(_speccer_padding_bottom_el, {\n      height: _speccer_el.styles.paddingBottom,\n      width: _target_rect.width + 'px',\n      transform: el.style.transform,\n      left: _el_offset_left + 'px',\n      top:\n        _el_offset_top +\n        (parseInt(_target_rect.height + '', 10) - parseInt(_speccer_el.styles.paddingBottom, 10)) +\n        'px'\n    });\n\n    document.body.appendChild(_speccer_padding_bottom_el);\n  }\n\n  if (_speccer_el.styles['paddingRight'] !== '0px') {\n    const _speccer_padding_right_el = create(css.getNumberValue(_speccer_el.styles.paddingRight));\n\n    classnames.set(_speccer_padding_right_el, 'padding right');\n\n    styles.add(_speccer_padding_right_el, {\n      height: _target_rect.height + 'px',\n      width: _speccer_el.styles.paddingRight,\n      transform: el.style.transform,\n      left:\n        _el_offset_left +\n        (parseInt(_target_rect.width + '', 10) - parseInt(_speccer_el.styles.paddingRight, 10)) +\n        'px',\n      top: _el_offset_top + 'px'\n    });\n\n    document.body.appendChild(_speccer_padding_right_el);\n  }\n\n  if (_speccer_el.styles['paddingLeft'] !== '0px') {\n    const _speccer_padding_left_el = create(css.getNumberValue(_speccer_el.styles.paddingLeft));\n\n    classnames.set(_speccer_padding_left_el, 'padding left');\n\n    styles.add(_speccer_padding_left_el, {\n      height: _target_rect.height + 'px',\n      width: _speccer_el.styles.paddingLeft,\n      transform: el.style.transform,\n      left: _el_offset_left + 'px',\n      top: _el_offset_top + 'px'\n    });\n\n    document.body.appendChild(_speccer_padding_left_el);\n  }\n};\n","export enum SpeccerAreaEnum {\n  Empty = '',\n  Left = 'left',\n  Right = 'right',\n  Bottom = 'bottom',\n  Top = 'top',\n}\n\nexport enum DissectAreaEnum {\n  Outline = 'outline',\n  Enclose = 'enclose',\n  Full = 'full',\n  Left = 'left',\n  Right = 'right',\n  Bottom = 'bottom',\n  Top = 'top',\n}\n","/* eslint no-console:0 */\n'use strict';\n\nexport const decimal = (number: string | number, decimals = 3): string => parseFloat(number + '').toFixed(decimals);\n","/* eslint no-console:0 */\n'use strict';\n\nimport * as styles from '../lib/styles';\nimport * as classnames from '../lib/classnames';\nimport { DissectAreaEnum } from '../enums/area';\nimport * as helpers from '../helpers/dissect';\nimport { SPECCER_LITERALS } from '../lib/constants';\n\nexport const create = (textContent = '', area: string, n = 'span') => {\n  const _el = document.createElement(n);\n  const _text_node = document.createTextNode(textContent);\n  const _extra_class_names = {};\n\n  if (area !== null && area !== '') {\n    _extra_class_names[area] = true;\n  }\n\n  if (area.indexOf(DissectAreaEnum.Full) === -1 && area.indexOf(DissectAreaEnum.Enclose) === -1) {\n    _el.appendChild(_text_node);\n  } else if (area.indexOf(DissectAreaEnum.Full) !== -1 || area.indexOf(DissectAreaEnum.Enclose) !== -1) {\n    _el.setAttribute('data-dissection-counter', textContent);\n  }\n\n  const _class_names = classnames.cx('ph speccer dissection', _extra_class_names);\n\n  classnames.set(_el, _class_names);\n\n  return _el;\n};\n\nexport const element = async (el: HTMLElement, dissectIndex: number) => {\n  if (!el) return;\n\n  const _area: string | null = el.getAttribute('data-anatomy') || '';\n\n  if (!_area || _area === '') return;\n\n  const _dissection_el = create(SPECCER_LITERALS[dissectIndex], _area);\n\n  document.body.appendChild(_dissection_el);\n\n  const _dissection_styles = helpers.styles(_area, el, _dissection_el);\n\n  styles.add(_dissection_el, _dissection_styles);\n};\n","import * as css from '../../lib/css';\nimport * as number from '../../lib/number';\nimport { get_body_correction } from '../../lib/position';\nimport { get_horizontal_center_of_els, get_vertical_center_of_els } from '../../lib/position';\nimport { DissectAreaEnum } from '../../enums/area';\n\nexport const styles = (area: string, el: HTMLElement, dissectionEl: HTMLElement) => {\n  const _el_rect = el.getBoundingClientRect();\n  const SPECCER_PIN_SPACE = css.pinSpace(dissectionEl);\n  const _dissection_el_rect = dissectionEl.getBoundingClientRect();\n  const _body_correction = get_body_correction();\n  const _el_offset_top = el.offsetTop + _body_correction.top;\n  const _el_offset_left = el.offsetLeft + _body_correction.left;\n  const _left_layout_position_left = _el_offset_left - _dissection_el_rect.width - SPECCER_PIN_SPACE + 'px';\n  const _left_layout_position_top =\n    number.decimal(get_vertical_center_of_els(_el_offset_top, _dissection_el_rect, _el_rect)) + 'px';\n  const _right_layout_position_left = _el_offset_left + _el_rect.width + SPECCER_PIN_SPACE + 'px';\n  const _right_layout_position_top =\n    number.decimal(get_vertical_center_of_els(_el_offset_top, _dissection_el_rect, _el_rect)) + 'px';\n  const _top_layout_position_left =\n    number.decimal(get_horizontal_center_of_els(_el_offset_left, _dissection_el_rect, _el_rect)) + 'px';\n  const _top_layout_position_top = _el_offset_top - _dissection_el_rect.height - SPECCER_PIN_SPACE + 'px';\n  const _bottom_layout_position_left =\n    number.decimal(get_horizontal_center_of_els(_el_offset_left, _dissection_el_rect, _el_rect)) + 'px';\n  const _bottom_layout_position_top = _el_offset_top + _el_rect.height + SPECCER_PIN_SPACE + 'px';\n\n  let _dissection_styles = {};\n\n  if (area.indexOf(DissectAreaEnum.Outline) !== -1) {\n    if (area.indexOf(DissectAreaEnum.Left) !== -1) {\n      if (area.indexOf(DissectAreaEnum.Full) !== -1) {\n        _dissection_styles = {\n          left: _el_offset_left - 8 + 'px',\n          top: _el_offset_top + -1 + 'px',\n          height: _el_rect.height + 'px'\n        };\n      } else if (area.indexOf(DissectAreaEnum.Enclose) !== -1) {\n        _dissection_styles = {\n          left: _el_offset_left - 1 + 'px',\n          top: _el_offset_top + -1 + 'px',\n          height: _el_rect.height + 'px',\n          width: _el_rect.width + 'px'\n        };\n      } else {\n        _dissection_styles = {\n          left: _left_layout_position_left,\n          top: _left_layout_position_top\n        };\n      }\n    } else if (area.indexOf(DissectAreaEnum.Right) !== -1) {\n      if (area.indexOf(DissectAreaEnum.Full) !== -1) {\n        _dissection_styles = {\n          left: _el_offset_left + _el_rect.width + 'px',\n          top: _el_offset_top + -1 + 'px',\n          height: _el_rect.height + 'px'\n        };\n      } else if (area.indexOf(DissectAreaEnum.Enclose) !== -1) {\n        _dissection_styles = {\n          left: _el_offset_left + -1 + 'px',\n          top: _el_offset_top + -1 + 'px',\n          height: _el_rect.height + 'px',\n          width: _el_rect.width + 'px'\n        };\n      } else {\n        _dissection_styles = {\n          left: _right_layout_position_left,\n          top: _right_layout_position_top\n        };\n      }\n    } else if (area.indexOf(DissectAreaEnum.Top) !== -1) {\n      if (area.indexOf(DissectAreaEnum.Full) !== -1) {\n        _dissection_styles = {\n          top: _el_offset_top + -8 + 'px',\n          left: _el_offset_left + -1 + 'px',\n          width: _el_rect.width + 'px'\n        };\n      } else if (area.indexOf(DissectAreaEnum.Enclose) !== -1) {\n        _dissection_styles = {\n          top: _el_offset_top + -1 + 'px',\n          left: _el_offset_left + -1 + 'px',\n          height: _el_rect.height + 'px',\n          width: _el_rect.width + 'px'\n        };\n      } else {\n        _dissection_styles = {\n          left: _top_layout_position_left,\n          top: _top_layout_position_top\n        };\n      }\n    } else if (area.indexOf(DissectAreaEnum.Bottom) !== -1) {\n      if (area.indexOf(DissectAreaEnum.Full) !== -1) {\n        _dissection_styles = {\n          top: _el_offset_top + _el_rect.height + 'px',\n          left: _el_offset_left + -1 + 'px',\n          width: _el_rect.width + 'px'\n        };\n      } else if (area.indexOf(DissectAreaEnum.Enclose) !== -1) {\n        _dissection_styles = {\n          top: _el_offset_top + -1 + 'px',\n          left: _el_offset_left + -1 + 'px',\n          height: _el_rect.height + 'px',\n          width: _el_rect.width + 'px'\n        };\n      } else {\n        _dissection_styles = {\n          left: _bottom_layout_position_left,\n          top: _bottom_layout_position_top\n        };\n      }\n    } else {\n      if (area.indexOf(DissectAreaEnum.Full) !== -1) {\n        _dissection_styles = {\n          left: _el_offset_left + _el_rect.width + 'px',\n          top: _el_offset_top + 'px',\n          height: _el_rect.height + 'px'\n        };\n      } else if (area.indexOf(DissectAreaEnum.Enclose) !== -1) {\n        _dissection_styles = {\n          left: _el_offset_left + _el_rect.width + 'px',\n          top: _el_offset_top + -1 + 'px',\n          height: _el_rect.height + 'px',\n          width: _el_rect.width + 'px'\n        };\n      } else {\n        _dissection_styles = {\n          left: _left_layout_position_left,\n          top: _left_layout_position_top\n        };\n      }\n    }\n  } else {\n    if (area.indexOf(DissectAreaEnum.Full) !== -1) {\n      _dissection_styles = {\n        left: _el_offset_left - 8 + 'px',\n        top: _el_offset_top + -1 + 'px',\n        height: _el_rect.height + 'px'\n      };\n    } else if (area.indexOf(DissectAreaEnum.Enclose) !== -1) {\n      _dissection_styles = {\n        left: _el_offset_left - 1 + 'px',\n        top: _el_offset_top + -1 + 'px',\n        height: _el_rect.height + 'px',\n        width: _el_rect.width + 'px'\n      };\n    } else {\n      _dissection_styles = {\n        left: _left_layout_position_left,\n        top: _left_layout_position_top\n      };\n    }\n  }\n\n  return _dissection_styles;\n};\n","/* eslint no-console:0 */\n'use strict';\n\nimport * as classnames from '../lib/classnames';\nimport * as styles from '../lib/styles';\nimport { get_body_correction } from '../lib/position';\n\nconst create = (text: string | number = '', area: string | null = '', tag = 'span') => {\n  const _el = document.createElement(tag);\n\n  _el.setAttribute('title', text + 'px');\n  _el.setAttribute('data-measure', parseInt(text + '', 10) + 'px');\n\n  classnames.set(_el, `ph speccer measure ${area}`);\n\n  return _el;\n};\n\nexport const element = (el: HTMLElement) => {\n  if (!el) return;\n\n  const _el_rect = el.getBoundingClientRect();\n  const _area: string | null = el.getAttribute('data-speccer-measure');\n\n  if (_area === '' || !_area) {\n    return;\n  }\n\n  const _body_correction = get_body_correction();\n  const _el_offset_top = el.offsetTop + _body_correction.top;\n  const _el_offset_left = el.offsetLeft + _body_correction.left;\n\n  if (_area.indexOf('width') !== -1) {\n    if (_area.indexOf('bottom') !== -1) {\n      const _measure_el = create(_el_rect.width, 'width bottom');\n\n      document.body.appendChild(_measure_el);\n\n      styles.add(_measure_el, {\n        left: _el_offset_left + 'px',\n        top: _el_offset_top + _el_rect.height + 1 + 'px',\n        width: _el_rect.width + 'px'\n      });\n    } else {\n      const _measure_el = create(_el_rect.width, 'width top');\n\n      document.body.appendChild(_measure_el);\n\n      const _measure_rect = _measure_el.getBoundingClientRect();\n\n      styles.add(_measure_el, {\n        left: _el_offset_left + 'px',\n        top: _el_offset_top - _measure_rect.height + 1 + 'px',\n        width: _el_rect.width + 'px'\n      });\n    }\n  } else if (_area.indexOf('height') !== -1) {\n    if (_area.indexOf('right') !== -1) {\n      const _measure_el = create(_el_rect.height, 'height right');\n\n      document.body.appendChild(_measure_el);\n\n      styles.add(_measure_el, {\n        left: _el_offset_left + _el_rect.width + 'px',\n        top: _el_offset_top + 'px',\n        height: _el_rect.height + 'px'\n      });\n    } else {\n      const _measure_el = create(_el_rect.height, 'height left');\n\n      document.body.appendChild(_measure_el);\n\n      const _measure_rect = _measure_el.getBoundingClientRect();\n\n      styles.add(_measure_el, {\n        left: _el_offset_left - _measure_rect.width + 'px',\n        top: _el_offset_top + 'px',\n        height: _el_rect.height + 'px'\n      });\n    }\n  }\n};\n","import * as css from '../../lib/css';\nimport * as number from '../../lib/number';\nimport { get_body_correction } from '../../lib/position';\nimport { get_horizontal_center_of_els, get_vertical_center_of_els } from '../../lib/position';\nimport { SpeccerAreaEnum } from '../../enums/area';\n\nexport const position = (\n  area: string | null,\n  el: HTMLElement,\n  speccerEl: HTMLElement\n): { left: string; top: string } => {\n  const _el_rect = el.getBoundingClientRect();\n  const SPECCER_PIN_SPACE = css.pinSpace(speccerEl);\n  const _speccer_el_rect = speccerEl.getBoundingClientRect();\n  const _body_correction = get_body_correction();\n  const _el_offset_top = el.offsetTop + _body_correction.top;\n  const _el_offset_left = el.offsetLeft + _body_correction.left;\n  const _left_layout_position_left = _el_offset_left - _speccer_el_rect.width - SPECCER_PIN_SPACE + 'px';\n  const _left_layout_position_top =\n    number.decimal(get_vertical_center_of_els(_el_offset_top, _speccer_el_rect, _el_rect)) + 'px';\n  const _right_layout_position_left = _el_offset_left + _el_rect.width + SPECCER_PIN_SPACE + 'px';\n  const _right_layout_position_top =\n    number.decimal(get_vertical_center_of_els(_el_offset_top, _speccer_el_rect, _el_rect)) + 'px';\n  const _top_layout_position_left =\n    number.decimal(get_horizontal_center_of_els(_el_offset_left, _speccer_el_rect, _el_rect)) + 'px';\n  const _top_layout_position_top = _el_offset_top - _speccer_el_rect.height - SPECCER_PIN_SPACE + 'px';\n  const _bottom_layout_position_left =\n    number.decimal(get_horizontal_center_of_els(_el_offset_left, _speccer_el_rect, _el_rect)) + 'px';\n  const _bottom_layout_position_top = _el_offset_top + _el_rect.height + SPECCER_PIN_SPACE + 'px';\n\n  let _position = {\n    left: _left_layout_position_left,\n    top: _left_layout_position_top\n  };\n\n  if (area && area.indexOf(SpeccerAreaEnum.Right) !== -1) {\n    _position = {\n      left: _right_layout_position_left,\n      top: _right_layout_position_top\n    };\n  } else if (area && area.indexOf(SpeccerAreaEnum.Top) !== -1) {\n    _position = {\n      left: _top_layout_position_left,\n      top: _top_layout_position_top\n    };\n  } else if (area && area.indexOf(SpeccerAreaEnum.Bottom) !== -1) {\n    _position = {\n      left: _bottom_layout_position_left,\n      top: _bottom_layout_position_top\n    };\n  }\n\n  return _position;\n};\n","/* eslint no-console:0 */\n'use strict';\n\nimport * as classnames from '../lib/classnames';\nimport * as styles from '../lib/styles';\nimport * as helpers from '../helpers/typography';\n\nexport const create = (html: string, area: string | null) => {\n  const _el = document.createElement('div');\n  const _extra_class_names = {};\n\n  if (area !== null && area !== '') {\n    _extra_class_names[area] = true;\n  }\n\n  const _class_names = classnames.cx('ph speccer typography', _extra_class_names);\n\n  _el.innerHTML = html;\n\n  classnames.set(_el, _class_names);\n\n  return _el;\n};\n\nexport const element = async (el: HTMLElement) => {\n  if (!el) return;\n\n  const _area: string | null = el.getAttribute('data-speccer-typography');\n  const _el_style = await styles.get(el);\n\n  if (_el_style.display === 'none' || _el_style.visibility === 'hidden' || !el.parentElement) {\n    return;\n  }\n\n  el.classList.add('is-specced');\n\n  const _html = await helpers.template(el);\n  const _speccer_el = create(_html, _area);\n\n  document.body.appendChild(_speccer_el);\n\n  const _position = helpers.position(_area, el, _speccer_el);\n\n  styles.add(_speccer_el, _position);\n};\n","/* eslint no-console:0 */\n'use strict';\n\nimport debounce from './debounce';\n\nexport const activate = (speccer: Function) => {\n  const speccerEventFunc = () =>\n    debounce(() => {\n      speccer();\n    }, 300);\n\n  window.removeEventListener('resize', speccerEventFunc);\n  window.addEventListener('resize', speccerEventFunc);\n};\n","/* eslint no-console:0 */\n'use strict';\n\nimport * as resize from './lib/resize';\nimport * as spec from './tasks/spec';\nimport * as measure from './tasks/measure';\nimport * as dissect from './tasks/dissect';\n\nexport const dom = (speccer: Function) => {\n  if (document.readyState === 'loading') {\n    document.addEventListener('DOMContentLoaded', () => {\n      speccer();\n    });\n  } else {\n    // `DOMContentLoaded` already fired\n    speccer();\n  }\n};\n\nexport const lazy = () => {\n  const _spec_observer = new IntersectionObserver((els, observer) => {\n    els.forEach((el: IntersectionObserverEntry) => {\n      if (el.intersectionRatio > 0) {\n        spec.element(el.target as HTMLElement);\n        observer.unobserve(el.target);\n      }\n    });\n  });\n\n  document.querySelectorAll('[data-speccer],[data-speccer] *:not(td)').forEach((el) => {\n    _spec_observer.observe(el);\n  });\n\n  const _measure_observer = new IntersectionObserver((els, observer) => {\n    els.forEach((el) => {\n      if (el.intersectionRatio > 0) {\n        measure.element(el.target as HTMLElement);\n        observer.unobserve(el.target);\n      }\n    });\n  });\n\n  document.querySelectorAll('[data-speccer-measure]').forEach((el) => {\n    _measure_observer.observe(el);\n  });\n\n  const _dissect_observer = new IntersectionObserver((els, observer) => {\n    els.forEach((el) => {\n      const targets = el.target.querySelectorAll('[data-anatomy]');\n\n      if (el.intersectionRatio > 0) {\n        targets.forEach(dissect.element);\n        observer.unobserve(el.target);\n      }\n    });\n  });\n\n  document.querySelectorAll('[data-anatomy-section]').forEach((el) => {\n    _dissect_observer.observe(el);\n  });\n};\n\nexport const manual = (speccer: Function) => {\n  window.speccer = speccer;\n};\n\nexport const activate = (speccer: Function) => {\n  const _script = document.currentScript;\n\n  if (_script) {\n    const _speccer_script_src = _script.getAttribute('src');\n\n    if (\n      _speccer_script_src &&\n      (_speccer_script_src.indexOf('speccer.js') !== -1 ||\n        // for codepen\n        _speccer_script_src.indexOf('JaXpOK.js') !== -1)\n    ) {\n      if (_script.hasAttribute('data-manual')) {\n        manual(speccer);\n      } else if (_script.hasAttribute('data-instant')) {\n        speccer();\n      } else if (_script.hasAttribute('data-dom')) {\n        dom(speccer);\n      } else if (_script.hasAttribute('data-lazy')) {\n        lazy();\n      } else {\n        dom(speccer);\n      }\n\n      if (!_script.hasAttribute('data-manual') && !_script.hasAttribute('data-lazy')) {\n        resize.activate(speccer);\n      }\n    }\n  }\n};\n","/* eslint no-console:0 */\n'use strict';\n\nimport './interfaces/global';\nimport * as __node from './lib/node';\nimport * as __spacing from './tasks/spec';\nimport * as __dissect from './tasks/dissect';\nimport * as __measure from './tasks/measure';\nimport * as __typography from './tasks/typography';\nimport * as __browser from './browser';\n\nexport const spacing = __spacing;\n\nexport const dissect = __dissect;\n\nexport const measure = __measure;\n\nexport const typography = __typography;\n\nconst speccer = () => {\n  __node.removeAll('.speccer');\n\n  const _els_to_be_specced = document.querySelectorAll('[data-speccer],[data-speccer] *:not(td)');\n  const _els_to_be_measured = document.querySelectorAll('[data-speccer-measure]');\n  const _els_to_be_typography_specced = document.querySelectorAll('[data-speccer-typography]');\n  const _els_to_be_dissected = document.querySelectorAll('[data-anatomy-section] [data-anatomy]');\n\n  _els_to_be_specced.forEach(spacing.element);\n  _els_to_be_measured.forEach(measure.element);\n  _els_to_be_typography_specced.forEach(typography.element);\n  _els_to_be_dissected.forEach(dissect.element);\n};\n\nexport default speccer;\n\n__browser.activate(speccer);\n","import * as css from '../../lib/css';\nimport * as styles from '../../lib/styles';\n\nexport const template = async (el: HTMLElement): Promise<string> => {\n  const _el_styles = await styles.get(el);\n  const _styles = css.getTypography(_el_styles);\n\n  return (\n    `\n` +\n    'font-styles: {' +\n    '<ul class=\"speccer-styles\">' +\n    `  <li><span class=\"property\">font-family:</span> ${_styles['fontFamily']};</li>` +\n    `  <li><span class=\"property\">font-size:</span> ${_styles['fontSize']} / ${\n      parseInt(_styles['fontSize'], 10) / 16\n    }rem;</li>` +\n    `  <li><span class=\"property\">font-weight:</span> ${_styles['fontWeight']};</li>` +\n    `  <li><span class=\"property\">font-variation-settings:</span> ${_styles['fontVariationSettings']};</li>` +\n    `  <li><span class=\"property\">line-height:</span> ${_styles['lineHeight']} / ${\n      parseInt(_styles['lineHeight'], 10) / 16\n    }rem;</li>` +\n    `  <li><span class=\"property\">letter-spacing:</span> ${_styles['letterSpacing']};</li>` +\n    `  <li><span class=\"property\">font-style:</span> ${_styles['fontStyle']};</li>` +\n    '</ul>' +\n    '}'\n  );\n};\n"],"names":["set","el","cls","avoid","length","trim","split","filter","cl","forEach","classList","add","cx","cls_obj","Object","keys","classname","join","SPECCER_LITERALS","getNumberValue","value","parseInt","pinSpace","getComputedStyle","getPropertyValue","waitForFrame","Promise","requestAnimationFrame","async","styles","Array","isArray","constructor","style","key","get","get_horizontal_center_of_els","modifier","startRect","targetRect","width","get_vertical_center_of_els","height","get_body_correction","_body_style","document","body","_body_left_correction","paddingLeft","marginLeft","top","paddingTop","marginTop","left","create","text","tag","_el","createElement","_text_content","createTextNode","appendChild","setAttribute","classnames.set","element","_speccer_el","_el_style","styles.get","display","visibility","parentElement","marginBottom","marginRight","paddingBottom","paddingRight","css.getSpacing","_target_rect","getBoundingClientRect","_body_correction","_el_offset_top","offsetTop","_el_offset_left","offsetLeft","_speccer_margin_top_el","css.getNumberValue","styles.add","transform","_speccer_margin_right_el","_speccer_margin_bottom_el","_speccer_margin_left_el","_speccer_padding_top_el","_speccer_padding_bottom_el","_speccer_padding_right_el","_speccer_padding_left_el","SpeccerAreaEnum","DissectAreaEnum","decimal","number","decimals","parseFloat","toFixed","textContent","area","n","_text_node","_extra_class_names","indexOf","Full","Enclose","_class_names","classnames.cx","dissectIndex","_area","getAttribute","_dissection_el","_dissection_styles","dissectionEl","_el_rect","SPECCER_PIN_SPACE","css.pinSpace","_dissection_el_rect","_left_layout_position_left","_left_layout_position_top","number.decimal","_right_layout_position_left","_right_layout_position_top","_top_layout_position_left","_top_layout_position_top","_bottom_layout_position_left","_bottom_layout_position_top","Outline","Left","Right","Top","Bottom","helpers.styles","_measure_el","_measure_rect","html","innerHTML","activate","speccer","speccerEventFunc","func","wait","immediate","timeout","context","this","args","arguments","later","apply","callNow","clearTimeout","setTimeout","debounce","window","removeEventListener","addEventListener","dom","readyState","spacing","__spacing","dissect","measure","typography","_html","_styles","lineHeight","letterSpacing","fontFamily","fontSize","fontStyle","fontVariationSettings","fontWeight","css.getTypography","helpers.template","_position","speccerEl","_speccer_el_rect","helpers.position","selector","call","querySelectorAll","e","remove","__node.removeAll","_els_to_be_specced","_els_to_be_measured","_els_to_be_typography_specced","_els_to_be_dissected","_script","currentScript","_speccer_script_src","hasAttribute","manual","_spec_observer","IntersectionObserver","els","observer","intersectionRatio","spec.element","target","unobserve","observe","_measure_observer","measure.element","_dissect_observer","targets","dissect.element","lazy","resize.activate"],"mappings":"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"}